
<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="WebSocket-Server für Discord-Integration mit d-zone Ambient-Life-Simulation">
      
      
        <meta name="author" content="Tin Nguyen">
      
      
        <link rel="canonical" href="https://nntin.github.io/d-back/edge/de/api-reference/">
      
      
        <link rel="prev" href="../user-guide/custom-data-providers/">
      
      
        <link rel="next" href="../developer-guide/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>API-Referenz - d-back Dokumentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-referenz" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Kopfzeile">
    <a href="../" title="d-back Dokumentation" class="md-header__button md-logo" aria-label="d-back Dokumentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            d-back Dokumentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API-Referenz
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Sprache wechseln">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../api-reference/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../es/api-reference/" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="de" class="md-select__link">
              Deutsch
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Suche">
        
        <button type="reset" class="md-search__icon md-icon" title="Zurücksetzen" aria-label="Zurücksetzen" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/NNTin/d-back" title="Zum Repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    NNTin/d-back
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Hauptnavigation" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link">
        
  
  
    
  
  Startseite

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../getting-started/" class="md-tabs__link">
        
  
  
    
  
  Erste Schritte

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../user-guide/" class="md-tabs__link">
          
  
  
  Benutzerhandbuch

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  API-Referenz

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../developer-guide/" class="md-tabs__link">
        
  
  
    
  
  Entwicklerhandbuch

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../" title="d-back Dokumentation" class="md-nav__button md-logo" aria-label="d-back Dokumentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    d-back Dokumentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/NNTin/d-back" title="Zum Repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    NNTin/d-back
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Startseite
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Erste Schritte
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Benutzerhandbuch
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Benutzerhandbuch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Übersicht
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Konfiguration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/callbacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Callbacks & Anpassung
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-guide/custom-data-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Benutzerdefinierte Datenanbieter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    API-Referenz
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    API-Referenz
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#einfuhrung" class="md-nav__link">
    <span class="md-ellipsis">
      Einführung
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#websocketserver" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocketServer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebSocketServer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocketServer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebSocketServer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.start" class="md-nav__link">
    <span class="md-ellipsis">
      start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.stop" class="md-nav__link">
    <span class="md-ellipsis">
      stop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.broadcast_message" class="md-nav__link">
    <span class="md-ellipsis">
      broadcast_message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_get_server_data" class="md-nav__link">
    <span class="md-ellipsis">
      on_get_server_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_get_user_data" class="md-nav__link">
    <span class="md-ellipsis">
      on_get_user_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_static_request" class="md-nav__link">
    <span class="md-ellipsis">
      on_static_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_validate_discord_user" class="md-nav__link">
    <span class="md-ellipsis">
      on_validate_discord_user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_get_client_id" class="md-nav__link">
    <span class="md-ellipsis">
      on_get_client_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.run_forever" class="md-nav__link">
    <span class="md-ellipsis">
      run_forever
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.broadcast_presence" class="md-nav__link">
    <span class="md-ellipsis">
      broadcast_presence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.broadcast_client_id_update" class="md-nav__link">
    <span class="md-ellipsis">
      broadcast_client_id_update
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mockdataprovider" class="md-nav__link">
    <span class="md-ellipsis">
      MockDataProvider
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MockDataProvider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider" class="md-nav__link">
    <span class="md-ellipsis">
      MockDataProvider
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MockDataProvider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider.get_mock_user_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_mock_user_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider.get_mock_server_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_mock_server_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider.periodic_status_updates" class="md-nav__link">
    <span class="md-ellipsis">
      periodic_status_updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider.periodic_messages" class="md-nav__link">
    <span class="md-ellipsis">
      periodic_messages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hilfsfunktionen" class="md-nav__link">
    <span class="md-ellipsis">
      Hilfsfunktionen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hilfsfunktionen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
    <nav class="md-nav" aria-label="parse_args">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_version" class="md-nav__link">
    <span class="md-ellipsis">
      get_version
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.get_version" class="md-nav__link">
    <span class="md-ellipsis">
      get_version
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
    <nav class="md-nav" aria-label="main">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main_sync" class="md-nav__link">
    <span class="md-ellipsis">
      main_sync
    </span>
  </a>
  
    <nav class="md-nav" aria-label="main_sync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.main_sync" class="md-nav__link">
    <span class="md-ellipsis">
      main_sync
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verwendungsbeispiele" class="md-nav__link">
    <span class="md-ellipsis">
      Verwendungsbeispiele
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typhinweise" class="md-nav__link">
    <span class="md-ellipsis">
      Typhinweise
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../developer-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Entwicklerhandbuch
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#einfuhrung" class="md-nav__link">
    <span class="md-ellipsis">
      Einführung
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#websocketserver" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocketServer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebSocketServer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocketServer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebSocketServer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.start" class="md-nav__link">
    <span class="md-ellipsis">
      start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.stop" class="md-nav__link">
    <span class="md-ellipsis">
      stop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.broadcast_message" class="md-nav__link">
    <span class="md-ellipsis">
      broadcast_message
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_get_server_data" class="md-nav__link">
    <span class="md-ellipsis">
      on_get_server_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_get_user_data" class="md-nav__link">
    <span class="md-ellipsis">
      on_get_user_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_static_request" class="md-nav__link">
    <span class="md-ellipsis">
      on_static_request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_validate_discord_user" class="md-nav__link">
    <span class="md-ellipsis">
      on_validate_discord_user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.on_get_client_id" class="md-nav__link">
    <span class="md-ellipsis">
      on_get_client_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.run_forever" class="md-nav__link">
    <span class="md-ellipsis">
      run_forever
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.broadcast_presence" class="md-nav__link">
    <span class="md-ellipsis">
      broadcast_presence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.server.WebSocketServer.broadcast_client_id_update" class="md-nav__link">
    <span class="md-ellipsis">
      broadcast_client_id_update
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mockdataprovider" class="md-nav__link">
    <span class="md-ellipsis">
      MockDataProvider
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MockDataProvider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider" class="md-nav__link">
    <span class="md-ellipsis">
      MockDataProvider
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MockDataProvider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider.get_mock_user_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_mock_user_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider.get_mock_server_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_mock_server_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider.periodic_status_updates" class="md-nav__link">
    <span class="md-ellipsis">
      periodic_status_updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d_back.mock.data.MockDataProvider.periodic_messages" class="md-nav__link">
    <span class="md-ellipsis">
      periodic_messages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hilfsfunktionen" class="md-nav__link">
    <span class="md-ellipsis">
      Hilfsfunktionen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hilfsfunktionen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
    <nav class="md-nav" aria-label="parse_args">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_version" class="md-nav__link">
    <span class="md-ellipsis">
      get_version
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.get_version" class="md-nav__link">
    <span class="md-ellipsis">
      get_version
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
    <nav class="md-nav" aria-label="main">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main_sync" class="md-nav__link">
    <span class="md-ellipsis">
      main_sync
    </span>
  </a>
  
    <nav class="md-nav" aria-label="main_sync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d_back.server.main_sync" class="md-nav__link">
    <span class="md-ellipsis">
      main_sync
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verwendungsbeispiele" class="md-nav__link">
    <span class="md-ellipsis">
      Verwendungsbeispiele
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typhinweise" class="md-nav__link">
    <span class="md-ellipsis">
      Typhinweise
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="api-referenz">API-Referenz<a class="headerlink" href="#api-referenz" title="Permanent link">&para;</a></h1>
<p>Diese Seite bietet vollständige API-Dokumentation für d-back, automatisch aus den Docstrings des Quellcodes generiert. Alle Klassen und Methoden enthalten detaillierte Beschreibungen, Parameter, Rückgabewerte und Beispiele.</p>
<h2 id="einfuhrung">Einführung<a class="headerlink" href="#einfuhrung" title="Permanent link">&para;</a></h2>
<p>Die d-back-API ist in zwei Hauptkomponenten organisiert:</p>
<ul>
<li><strong>WebSocketServer</strong>: Die Haupt-Serverklasse zur Verwaltung von WebSocket-Verbindungen, HTTP-Anfragen und Nachrichten-Broadcasting</li>
<li><strong>MockDataProvider</strong>: Stellt Mock-Daten und periodische Hintergrundaufgaben für Entwicklung und Tests bereit</li>
</ul>
<p>Alle API-Dokumentation folgt Google-Style-Docstrings mit umfassenden Beispielen. Für Nutzungsmuster und Integrationsleitfäden siehe das <a href="../user-guide/">Benutzerhandbuch</a>.</p>
<h2 id="websocketserver">WebSocketServer<a class="headerlink" href="#websocketserver" title="Permanent link">&para;</a></h2>
<p>Die Haupt-Serverklasse zur Verwaltung von WebSocket-Verbindungen, HTTP-Anfragen und Nachrichten-Broadcasting. Dies ist Ihre primäre Schnittstelle zur d-back-Funktionalität.</p>


<div class="doc doc-object doc-class">



<h3 id="d_back.server.WebSocketServer" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">WebSocketServer</span><span class="p">(</span><span class="n">port</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">)</span></code>

<a href="#d_back.server.WebSocketServer" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">


        <p>WebSocket server for managing real-time connections and broadcasting messages.</p>
<p>This server handles WebSocket connections for Discord-like applications, providing
real-time communication, user presence management, message broadcasting, and
static file serving. It supports custom data providers through callback registration
and includes mock data functionality for testing.</p>
<p>The server automatically detects websockets library version and enables HTTP support
when available (websockets 10.0+ with Python 3.8+).</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="d_back.server.WebSocketServer.port">port</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The port number the server listens on.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="d_back.server.WebSocketServer.host">host</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The hostname or IP address the server binds to.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="d_back.server.WebSocketServer.server">server</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The websockets server instance.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="d_back.server.WebSocketServer.connections">connections</span></code></td>
            <td>
                  <code><span title="set">set</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set of active WebSocket connections.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="d_back.server.WebSocketServer.static_dir">static_dir</span></code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Directory path for serving static files.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="d_back.server.WebSocketServer.mock_provider">mock_provider</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="MockDataProvider(server_instance) (d_back.mock.MockDataProvider)" href="#d_back.mock.data.MockDataProvider">MockDataProvider</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Provider for mock test data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>Basic usage::</p>
<div class="highlight"><pre><span></span><code>server = WebSocketServer(port=3000, host=&quot;localhost&quot;)
await server.run_forever()
</code></pre></div>
<p>With custom data callbacks::</p>
<div class="highlight"><pre><span></span><code>def get_servers():
    return {
        &quot;server1&quot;: {&quot;id&quot;: &quot;server1&quot;, &quot;name&quot;: &quot;My Server&quot;, &quot;default&quot;: True}
    }

def get_users(server_id):
    return {
        &quot;user123&quot;: {
            &quot;uid&quot;: &quot;user123&quot;,
            &quot;username&quot;: &quot;JohnDoe&quot;,
            &quot;status&quot;: &quot;online&quot;,
            &quot;roleColor&quot;: &quot;#3498db&quot;
        }
    }

server = WebSocketServer()
server.on_get_server_data(get_servers)
server.on_get_user_data(get_users)
await server.run_forever()
</code></pre></div>
</details>
        <p>Initialize the WebSocket server.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>port</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The port number to listen on. Defaults to 3000.</p>
              </div>
            </td>
            <td>
                  <code>3000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>host</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The hostname or IP address to bind to. Defaults to "localhost".
  Use "0.0.0.0" to accept connections from any interface.</p>
              </div>
            </td>
            <td>
                  <code>&#39;localhost&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>The server initializes with mock data provider by default. Register custom
callbacks using on_get_server_data() and on_get_user_data() to override
mock data behavior.</p>
</details>







                  <details class="quote">
                    <summary>Source code in <code>d_back/server.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">,</span> <span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">):</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the WebSocket server.</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">        port: The port number to listen on. Defaults to 3000.</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">        host: The hostname or IP address to bind to. Defaults to &quot;localhost&quot;.</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">              Use &quot;0.0.0.0&quot; to accept connections from any interface.</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">    Note:</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">        The server initializes with mock data provider by default. Register custom</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">        callbacks using on_get_server_data() and on_get_user_data() to override</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">        mock data behavior.</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="n">port</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="n">host</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">server</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># WebSocket server instance</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="p">:</span> <span class="nb">set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>  <span class="c1"># Store active connections</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_get_server_data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_get_user_data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_static_request</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">static_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;dist&quot;</span>  <span class="c1"># Default static directory</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_validate_discord_user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_get_client_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">mock_provider</span> <span class="o">=</span> <span class="n">MockDataProvider</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># Mock data provider</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.start" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">start</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#d_back.server.WebSocketServer.start" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Start the WebSocket server and wait for it to close.</p>
<p>This method initializes the websockets server with the configured host and port,
registers the connection handler and HTTP request processor, and then waits
for the server to close.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="OSError">OSError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the port is already in use or network binding fails.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>For other server startup failures.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>This method blocks until the server is stopped. Use run_forever() for
a more convenient async context manager approach.</p>
</details>

            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the WebSocket server and wait for it to close.</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">    This method initializes the websockets server with the configured host and port,</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="sd">    registers the connection handler and HTTP request processor, and then waits</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a><span class="sd">    for the server to close.</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a><span class="sd">        None</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="sd">        OSError: If the port is already in use or network binding fails.</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a><span class="sd">        Exception: For other server startup failures.</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a><span class="sd">    Note:</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a><span class="sd">        This method blocks until the server is stopped. Use run_forever() for</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a><span class="sd">        a more convenient async context manager approach.</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">server</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websockets</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_handler</span><span class="p">,</span> 
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> 
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> 
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>        <span class="n">process_request</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_process_request</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>    <span class="p">)</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;WebSocket server started on ws://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">wait_closed</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.stop" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stop</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#d_back.server.WebSocketServer.stop" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Gracefully stop the WebSocket server.</p>
<p>This method closes the server and waits for all existing connections to terminate.
Active connections are allowed to finish their current operations before shutdown.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>After calling this method, the server can be restarted by calling start() again.</p>
</details>

            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-149" name="__codelineno-0-149"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Gracefully stop the WebSocket server.</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a><span class="sd">    This method closes the server and waits for all existing connections to terminate.</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a><span class="sd">    Active connections are allowed to finish their current operations before shutdown.</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a><span class="sd">        None</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a><span class="sd">    Note:</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a><span class="sd">        After calling this method, the server can be restarted by calling start() again.</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="p">:</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">wait_closed</span><span class="p">()</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WebSocket server stopped&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.broadcast_message" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">broadcast_message</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">channel</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#d_back.server.WebSocketServer.broadcast_message" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Broadcast a chat message to all clients connected to the specified server.</p>
<p>Sends a message from a user to all WebSocket clients currently connected to
the same Discord server. Automatically handles connection failures and removes
closed connections.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>server</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Discord server ID where the message is sent.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>uid</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The user ID of the message sender.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>message</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text content of the message.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>channel</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The channel ID where the message is posted.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="websockets.ConnectionClosed">ConnectionClosed</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When attempting to send to a closed connection
(handled internally, connection is removed).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>await server.broadcast_message(
    server=&quot;232769614004748288&quot;,
    uid=&quot;user123&quot;,
    message=&quot;Hello everyone!&quot;,
    channel=&quot;general&quot;
)
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-166" name="__codelineno-0-166"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">broadcast_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">uid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Broadcast a chat message to all clients connected to the specified server.</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a><span class="sd">    Sends a message from a user to all WebSocket clients currently connected to</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a><span class="sd">    the same Discord server. Automatically handles connection failures and removes</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a><span class="sd">    closed connections.</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a><span class="sd">        server: The Discord server ID where the message is sent.</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a><span class="sd">        uid: The user ID of the message sender.</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a><span class="sd">        message: The text content of the message.</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a><span class="sd">        channel: The channel ID where the message is posted.</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="sd">        None</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">        websockets.ConnectionClosed: When attempting to send to a closed connection</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">            (handled internally, connection is removed).</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a><span class="sd">        await server.broadcast_message(</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="sd">            server=&quot;232769614004748288&quot;,</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">            uid=&quot;user123&quot;,</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">            message=&quot;Hello everyone!&quot;,</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a><span class="sd">            channel=&quot;general&quot;</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a><span class="sd">        )</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="c1"># Filter connections to only include those connected to the specified server</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>    <span class="c1"># Use discordServer like the original implementation</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>    <span class="n">server_connections</span> <span class="o">=</span> <span class="p">[</span><span class="n">ws</span> <span class="k">for</span> <span class="n">ws</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="s1">&#39;discordServer&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ws</span><span class="o">.</span><span class="n">discordServer</span> <span class="o">==</span> <span class="n">server</span><span class="p">]</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">server_connections</span><span class="p">:</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] No connections to broadcast to for server: </span><span class="si">{</span><span class="n">server</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>        <span class="k">return</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>    <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;message&quot;</span><span class="p">,</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>        <span class="s2">&quot;server&quot;</span><span class="p">:</span> <span class="n">server</span><span class="p">,</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>            <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="n">uid</span><span class="p">,</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">message</span><span class="p">,</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>            <span class="s2">&quot;channel&quot;</span><span class="p">:</span> <span class="n">channel</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>        <span class="p">}</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>    <span class="p">}</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[BROADCAST] Sending message to </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">server_connections</span><span class="p">)</span><span class="si">}</span><span class="s2"> connections on server </span><span class="si">{</span><span class="n">server</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>    <span class="c1"># Create a copy to avoid modification during iteration</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>    <span class="n">connections_copy</span> <span class="o">=</span> <span class="n">server_connections</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>    <span class="k">for</span> <span class="n">websocket</span> <span class="ow">in</span> <span class="n">connections_copy</span><span class="p">:</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>            <span class="k">await</span> <span class="n">websocket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>        <span class="k">except</span> <span class="n">websockets</span><span class="o">.</span><span class="n">ConnectionClosed</span><span class="p">:</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[INFO] Removed closed connection during broadcast&quot;</span><span class="p">)</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>            <span class="c1"># Remove closed connections</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to send message to connection: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>            <span class="c1"># Optionally remove problematic connections</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.on_get_server_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_get_server_data</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span></code>

<a href="#d_back.server.WebSocketServer.on_get_server_data" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Register a callback to provide server configuration data.</p>
<p>The callback function will be called to retrieve the list of available Discord
servers and their configurations. This overrides the default mock data provider.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[[], <span title="typing.Awaitable">Awaitable</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An async callable that returns a dictionary of server configurations.
Expected signature: async def callback() -&gt; Dict[str, Dict[str, Any]]
Each server dict should contain: id, name, default (bool), passworded (bool)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>async def get_servers():
    return {
        &quot;server1&quot;: {
            &quot;id&quot;: &quot;server1&quot;,
            &quot;name&quot;: &quot;My Server&quot;,
            &quot;default&quot;: True,
            &quot;passworded&quot;: False
        }
    }

server.on_get_server_data(get_servers)
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-230" name="__codelineno-0-230"></a><span class="k">def</span><span class="w"> </span><span class="nf">on_get_server_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a callback to provide server configuration data.</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a><span class="sd">    The callback function will be called to retrieve the list of available Discord</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a><span class="sd">    servers and their configurations. This overrides the default mock data provider.</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a><span class="sd">        callback: An async callable that returns a dictionary of server configurations.</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a><span class="sd">            Expected signature: async def callback() -&gt; Dict[str, Dict[str, Any]]</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a><span class="sd">            Each server dict should contain: id, name, default (bool), passworded (bool)</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a><span class="sd">        None</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a><span class="sd">        async def get_servers():</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a><span class="sd">            return {</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a><span class="sd">                &quot;server1&quot;: {</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="sd">                    &quot;id&quot;: &quot;server1&quot;,</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><span class="sd">                    &quot;name&quot;: &quot;My Server&quot;,</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a><span class="sd">                    &quot;default&quot;: True,</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><span class="sd">                    &quot;passworded&quot;: False</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a><span class="sd">                }</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a><span class="sd">            }</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a><span class="sd">        server.on_get_server_data(get_servers)</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_get_server_data</span> <span class="o">=</span> <span class="n">callback</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.on_get_user_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_get_user_data</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span></code>

<a href="#d_back.server.WebSocketServer.on_get_user_data" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Register a callback to provide user data for a specific server.</p>
<p>The callback function will be called to retrieve user information for clients
connecting to a Discord server. This overrides the default mock data provider.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="str">str</span>], <span title="typing.Awaitable">Awaitable</span>[<span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An async callable that takes a server ID and returns user data.
Expected signature: async def callback(server_id: str) -&gt; Dict[str, Dict[str, Any]]
Each user dict should contain: uid, username, status, roleColor</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>async def get_users(server_id):
    return {
        &quot;user123&quot;: {
            &quot;uid&quot;: &quot;user123&quot;,
            &quot;username&quot;: &quot;JohnDoe&quot;,
            &quot;status&quot;: &quot;online&quot;,
            &quot;roleColor&quot;: &quot;#3498db&quot;
        }
    }

server.on_get_user_data(get_users)
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-260" name="__codelineno-0-260"></a><span class="k">def</span><span class="w"> </span><span class="nf">on_get_user_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a callback to provide user data for a specific server.</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a><span class="sd">    The callback function will be called to retrieve user information for clients</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a><span class="sd">    connecting to a Discord server. This overrides the default mock data provider.</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a><span class="sd">        callback: An async callable that takes a server ID and returns user data.</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a><span class="sd">            Expected signature: async def callback(server_id: str) -&gt; Dict[str, Dict[str, Any]]</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a><span class="sd">            Each user dict should contain: uid, username, status, roleColor</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a><span class="sd">        None</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a><span class="sd">        async def get_users(server_id):</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a><span class="sd">            return {</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a><span class="sd">                &quot;user123&quot;: {</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a><span class="sd">                    &quot;uid&quot;: &quot;user123&quot;,</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><span class="sd">                    &quot;username&quot;: &quot;JohnDoe&quot;,</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">                    &quot;status&quot;: &quot;online&quot;,</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a><span class="sd">                    &quot;roleColor&quot;: &quot;#3498db&quot;</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="sd">                }</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a><span class="sd">            }</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><span class="sd">        server.on_get_user_data(get_users)</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_get_user_data</span> <span class="o">=</span> <span class="n">callback</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.on_static_request" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_static_request</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span></code>

<a href="#d_back.server.WebSocketServer.on_static_request" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Register a callback for custom static file handling.</p>
<p>The callback function allows you to serve custom content for specific paths,
overriding the default static file handler. Return None to use default handling.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="str">str</span>], <span title="typing.Awaitable">Awaitable</span>[<span title="typing.Optional">Optional</span>[<span title="typing.Tuple">Tuple</span>[<span title="str">str</span>, <span title="str">str</span>]]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An async callable that takes a path and returns custom content.
Expected signature: async def callback(path: str) -&gt; Optional[Tuple[str, str]]
Return None to let default handler process the request, or
return (content_type, content) to serve custom content.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>async def custom_handler(path):
    if path == &quot;/api/custom&quot;:
        return &quot;application/json&quot;, &#39;{&quot;status&quot;: &quot;ok&quot;}&#39;
    return None  # Let default handler take over

server.on_static_request(custom_handler)
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-290" name="__codelineno-0-290"></a><span class="k">def</span><span class="w"> </span><span class="nf">on_static_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a callback for custom static file handling.</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a><span class="sd">    The callback function allows you to serve custom content for specific paths,</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a><span class="sd">    overriding the default static file handler. Return None to use default handling.</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a><span class="sd">        callback: An async callable that takes a path and returns custom content.</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a><span class="sd">            Expected signature: async def callback(path: str) -&gt; Optional[Tuple[str, str]]</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a><span class="sd">            Return None to let default handler process the request, or</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a><span class="sd">            return (content_type, content) to serve custom content.</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a><span class="sd">        None</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">        async def custom_handler(path):</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">            if path == &quot;/api/custom&quot;:</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">                return &quot;application/json&quot;, &#39;{&quot;status&quot;: &quot;ok&quot;}&#39;</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">            return None  # Let default handler take over</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">        server.on_static_request(custom_handler)</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_static_request</span> <span class="o">=</span> <span class="n">callback</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.on_validate_discord_user" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_validate_discord_user</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span></code>

<a href="#d_back.server.WebSocketServer.on_validate_discord_user" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Register a callback to validate Discord OAuth users.</p>
<p>The callback function will be called to verify Discord OAuth tokens and
validate user permissions for accessing the WebSocket server.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="str">str</span>, <span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>], <span title="str">str</span>], <span title="typing.Awaitable">Awaitable</span>[<span title="bool">bool</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An async callable that validates a Discord OAuth token and user info.
Expected signature: async def callback(token: str, user_info: Dict[str, Any], server_id: str) -&gt; bool
Should return True if the user is valid and authorized.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>async def validate_user(token, user_info, server_id):
    # Verify token with Discord API
    # Check user permissions for the specific server
    return is_valid and is_authorized

server.on_validate_discord_user(validate_user)
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="k">def</span><span class="w"> </span><span class="nf">on_validate_discord_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="nb">str</span><span class="p">],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="nb">bool</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a callback to validate Discord OAuth users.</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">    The callback function will be called to verify Discord OAuth tokens and</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="sd">    validate user permissions for accessing the WebSocket server.</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">        callback: An async callable that validates a Discord OAuth token and user info.</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">            Expected signature: async def callback(token: str, user_info: Dict[str, Any], server_id: str) -&gt; bool</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a><span class="sd">            Should return True if the user is valid and authorized.</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">        None</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a><span class="sd">        async def validate_user(token, user_info, server_id):</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a><span class="sd">            # Verify token with Discord API</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">            # Check user permissions for the specific server</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="sd">            return is_valid and is_authorized</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">        server.on_validate_discord_user(validate_user)</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_validate_discord_user</span> <span class="o">=</span> <span class="n">callback</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.on_get_client_id" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_get_client_id</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span></code>

<a href="#d_back.server.WebSocketServer.on_get_client_id" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Register a callback to provide the OAuth2 client ID.</p>
<p>The callback function should return the Discord OAuth2 application client ID
used for authentication. This is sent to connecting clients for OAuth flow.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>callback</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="str">str</span>], <span title="typing.Awaitable">Awaitable</span>[<span title="str">str</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An async callable that returns the OAuth2 client ID for a server.
Expected signature: async def callback(server_id: str) -&gt; str
Should return the Discord application client ID string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>async def get_client_id(server_id):
    return &quot;123456789012345678&quot;

server.on_get_client_id(get_client_id)
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="k">def</span><span class="w"> </span><span class="nf">on_get_client_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Register a callback to provide the OAuth2 client ID.</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">    The callback function should return the Discord OAuth2 application client ID</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="sd">    used for authentication. This is sent to connecting clients for OAuth flow.</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">        callback: An async callable that returns the OAuth2 client ID for a server.</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">            Expected signature: async def callback(server_id: str) -&gt; str</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">            Should return the Discord application client ID string.</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a><span class="sd">        None</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a><span class="sd">        async def get_client_id(server_id):</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a><span class="sd">            return &quot;123456789012345678&quot;</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a><span class="sd">        server.on_get_client_id(get_client_id)</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_on_get_client_id</span> <span class="o">=</span> <span class="n">callback</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.run_forever" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_forever</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#d_back.server.WebSocketServer.run_forever" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Run the server forever with automatic HTTP support detection.</p>
<p>This method starts the WebSocket server and automatically detects whether
HTTP static file serving is supported based on the Python version and websockets
library version. Falls back to WebSocket-only mode if HTTP support is unavailable.</p>


<details class="http-support-requires" open>
  <summary>HTTP support requires</summary>
  <ul>
<li>Python 3.8 or higher</li>
<li>websockets 10.0 or higher</li>
<li>Available HTTP import modules (websockets.http11 or websockets.http)</li>
</ul>
</details>

    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If server fails to start on the configured host and port.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="KeyboardInterrupt">KeyboardInterrupt</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When server is interrupted by user (handled gracefully).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>server = WebSocketServer(port=3000)
await server.run_forever()  # Runs until interrupted
</code></pre></div>


<details class="note" open>
  <summary>Note</summary>
  <p>This method runs indefinitely until interrupted. Use asyncio.create_task()
if you need to run other async operations concurrently.</p>
</details>

            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-364" name="__codelineno-0-364"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_forever</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the server forever with automatic HTTP support detection.</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a><span class="sd">    This method starts the WebSocket server and automatically detects whether</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a><span class="sd">    HTTP static file serving is supported based on the Python version and websockets</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a><span class="sd">    library version. Falls back to WebSocket-only mode if HTTP support is unavailable.</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a><span class="sd">    HTTP support requires:</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a><span class="sd">        - Python 3.8 or higher</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a><span class="sd">        - websockets 10.0 or higher</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><span class="sd">        - Available HTTP import modules (websockets.http11 or websockets.http)</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a><span class="sd">        None</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a><span class="sd">        Exception: If server fails to start on the configured host and port.</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a><span class="sd">        KeyboardInterrupt: When server is interrupted by user (handled gracefully).</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="sd">        server = WebSocketServer(port=3000)</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a><span class="sd">        await server.run_forever()  # Runs until interrupted</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a><span class="sd">    Note:</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a><span class="sd">        This method runs indefinitely until interrupted. Use asyncio.create_task()</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a><span class="sd">        if you need to run other async operations concurrently.</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>    <span class="c1"># For Python 3.8+ compatibility, start with WebSocket-only mode</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>    <span class="c1"># and only try HTTP if we&#39;re confident it will work</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>    <span class="n">has_http_support</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">websockets</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>        <span class="c1"># Check websockets version</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>        <span class="n">websockets_version</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">websockets</span><span class="o">.</span><span class="n">__version__</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[:</span><span class="mi">2</span><span class="p">]))</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>        <span class="c1"># Try HTTP support on Python 3.8+ with websockets 10.0+</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>        <span class="n">python_version</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>        <span class="k">if</span> <span class="n">python_version</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="ow">and</span> <span class="n">websockets_version</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>            <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>                <span class="c1"># Quick test of HTTP imports</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">websockets.http11</span><span class="w"> </span><span class="kn">import</span> <span class="n">Response</span>  <span class="c1"># noqa: F401</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>                <span class="kn">from</span><span class="w"> </span><span class="nn">websockets.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">Headers</span>  <span class="c1"># noqa: F401</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>                <span class="n">has_http_support</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] HTTP support enabled (Python </span><span class="si">{</span><span class="n">python_version</span><span class="si">}</span><span class="s2">, websockets </span><span class="si">{</span><span class="n">websockets</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>            <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>                <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>                    <span class="kn">from</span><span class="w"> </span><span class="nn">websockets.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">Response</span><span class="p">,</span> <span class="n">Headers</span>  <span class="c1"># noqa: F401</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>                    <span class="n">has_http_support</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[DEBUG] HTTP support enabled with fallback imports&quot;</span><span class="p">)</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>                <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[DEBUG] HTTP imports not available, using WebSocket-only mode&quot;</span><span class="p">)</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[DEBUG] WebSocket-only mode (Python </span><span class="si">{</span><span class="n">python_version</span><span class="si">}</span><span class="s2">, websockets </span><span class="si">{</span><span class="n">websockets</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s2"> - version too old for HTTP)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[WARNING] Error checking HTTP support, falling back to WebSocket-only: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>        <span class="n">has_http_support</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>    <span class="k">if</span> <span class="n">has_http_support</span><span class="p">:</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>            <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_handler</span><span class="p">,</span> 
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> 
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> 
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>                <span class="n">process_request</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_process_request</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>            <span class="p">):</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mock WebSocket server running on ws://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2"> (with HTTP support)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>                <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">()</span>  <span class="c1"># run forever</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[WARNING] Failed to start with HTTP support: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[INFO] Falling back to WebSocket-only mode&quot;</span><span class="p">)</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a>            <span class="n">has_http_support</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">has_http_support</span><span class="p">:</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>        <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_handler</span><span class="p">,</span> 
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> 
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">port</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>        <span class="p">):</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mock WebSocket server running on ws://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2"> (WebSocket-only mode)&quot;</span><span class="p">)</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a>            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Future</span><span class="p">()</span>  <span class="c1"># run forever</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.broadcast_presence" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">broadcast_presence</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">role_color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#d_back.server.WebSocketServer.broadcast_presence" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Broadcast a user presence update to all clients connected to a server.</p>
<p>Sends presence information (online status, username, role color) to all
WebSocket connections associated with the specified Discord server. Used
to notify clients when users come online, go offline, or change status.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>server</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Discord server ID to broadcast to</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>uid</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>User ID whose presence is being updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>status</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>User's current status ("online", "idle", "dnd", "offline")</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>username</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional username to include in the update</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>role_color</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional hex color code for the user's role (e.g., "#ff6b6b")</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>delete</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, indicates the user should be removed from the presence list</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code># Broadcast user coming online
await server.broadcast_presence(
    server=&quot;232769614004748288&quot;,
    uid=&quot;123456789012345001&quot;,
    status=&quot;online&quot;,
    username=&quot;vegeta897&quot;,
    role_color=&quot;#ff6b6b&quot;
)

# Broadcast user going offline
await server.broadcast_presence(
    server=&quot;232769614004748288&quot;,
    uid=&quot;123456789012345001&quot;,
    status=&quot;offline&quot;,
    delete=True
)
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1071">1071</a></span>
<span class="normal"><a href="#__codelineno-0-1072">1072</a></span>
<span class="normal"><a href="#__codelineno-0-1073">1073</a></span>
<span class="normal"><a href="#__codelineno-0-1074">1074</a></span>
<span class="normal"><a href="#__codelineno-0-1075">1075</a></span>
<span class="normal"><a href="#__codelineno-0-1076">1076</a></span>
<span class="normal"><a href="#__codelineno-0-1077">1077</a></span>
<span class="normal"><a href="#__codelineno-0-1078">1078</a></span>
<span class="normal"><a href="#__codelineno-0-1079">1079</a></span>
<span class="normal"><a href="#__codelineno-0-1080">1080</a></span>
<span class="normal"><a href="#__codelineno-0-1081">1081</a></span>
<span class="normal"><a href="#__codelineno-0-1082">1082</a></span>
<span class="normal"><a href="#__codelineno-0-1083">1083</a></span>
<span class="normal"><a href="#__codelineno-0-1084">1084</a></span>
<span class="normal"><a href="#__codelineno-0-1085">1085</a></span>
<span class="normal"><a href="#__codelineno-0-1086">1086</a></span>
<span class="normal"><a href="#__codelineno-0-1087">1087</a></span>
<span class="normal"><a href="#__codelineno-0-1088">1088</a></span>
<span class="normal"><a href="#__codelineno-0-1089">1089</a></span>
<span class="normal"><a href="#__codelineno-0-1090">1090</a></span>
<span class="normal"><a href="#__codelineno-0-1091">1091</a></span>
<span class="normal"><a href="#__codelineno-0-1092">1092</a></span>
<span class="normal"><a href="#__codelineno-0-1093">1093</a></span>
<span class="normal"><a href="#__codelineno-0-1094">1094</a></span>
<span class="normal"><a href="#__codelineno-0-1095">1095</a></span>
<span class="normal"><a href="#__codelineno-0-1096">1096</a></span>
<span class="normal"><a href="#__codelineno-0-1097">1097</a></span>
<span class="normal"><a href="#__codelineno-0-1098">1098</a></span>
<span class="normal"><a href="#__codelineno-0-1099">1099</a></span>
<span class="normal"><a href="#__codelineno-0-1100">1100</a></span>
<span class="normal"><a href="#__codelineno-0-1101">1101</a></span>
<span class="normal"><a href="#__codelineno-0-1102">1102</a></span>
<span class="normal"><a href="#__codelineno-0-1103">1103</a></span>
<span class="normal"><a href="#__codelineno-0-1104">1104</a></span>
<span class="normal"><a href="#__codelineno-0-1105">1105</a></span>
<span class="normal"><a href="#__codelineno-0-1106">1106</a></span>
<span class="normal"><a href="#__codelineno-0-1107">1107</a></span>
<span class="normal"><a href="#__codelineno-0-1108">1108</a></span>
<span class="normal"><a href="#__codelineno-0-1109">1109</a></span>
<span class="normal"><a href="#__codelineno-0-1110">1110</a></span>
<span class="normal"><a href="#__codelineno-0-1111">1111</a></span>
<span class="normal"><a href="#__codelineno-0-1112">1112</a></span>
<span class="normal"><a href="#__codelineno-0-1113">1113</a></span>
<span class="normal"><a href="#__codelineno-0-1114">1114</a></span>
<span class="normal"><a href="#__codelineno-0-1115">1115</a></span>
<span class="normal"><a href="#__codelineno-0-1116">1116</a></span>
<span class="normal"><a href="#__codelineno-0-1117">1117</a></span>
<span class="normal"><a href="#__codelineno-0-1118">1118</a></span>
<span class="normal"><a href="#__codelineno-0-1119">1119</a></span>
<span class="normal"><a href="#__codelineno-0-1120">1120</a></span>
<span class="normal"><a href="#__codelineno-0-1121">1121</a></span>
<span class="normal"><a href="#__codelineno-0-1122">1122</a></span>
<span class="normal"><a href="#__codelineno-0-1123">1123</a></span>
<span class="normal"><a href="#__codelineno-0-1124">1124</a></span>
<span class="normal"><a href="#__codelineno-0-1125">1125</a></span>
<span class="normal"><a href="#__codelineno-0-1126">1126</a></span>
<span class="normal"><a href="#__codelineno-0-1127">1127</a></span>
<span class="normal"><a href="#__codelineno-0-1128">1128</a></span>
<span class="normal"><a href="#__codelineno-0-1129">1129</a></span>
<span class="normal"><a href="#__codelineno-0-1130">1130</a></span>
<span class="normal"><a href="#__codelineno-0-1131">1131</a></span>
<span class="normal"><a href="#__codelineno-0-1132">1132</a></span>
<span class="normal"><a href="#__codelineno-0-1133">1133</a></span>
<span class="normal"><a href="#__codelineno-0-1134">1134</a></span>
<span class="normal"><a href="#__codelineno-0-1135">1135</a></span>
<span class="normal"><a href="#__codelineno-0-1136">1136</a></span>
<span class="normal"><a href="#__codelineno-0-1137">1137</a></span>
<span class="normal"><a href="#__codelineno-0-1138">1138</a></span>
<span class="normal"><a href="#__codelineno-0-1139">1139</a></span>
<span class="normal"><a href="#__codelineno-0-1140">1140</a></span>
<span class="normal"><a href="#__codelineno-0-1141">1141</a></span>
<span class="normal"><a href="#__codelineno-0-1142">1142</a></span>
<span class="normal"><a href="#__codelineno-0-1143">1143</a></span>
<span class="normal"><a href="#__codelineno-0-1144">1144</a></span>
<span class="normal"><a href="#__codelineno-0-1145">1145</a></span>
<span class="normal"><a href="#__codelineno-0-1146">1146</a></span>
<span class="normal"><a href="#__codelineno-0-1147">1147</a></span>
<span class="normal"><a href="#__codelineno-0-1148">1148</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1071" name="__codelineno-0-1071"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">broadcast_presence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">uid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">status</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">role_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">delete</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1072" name="__codelineno-0-1072"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Broadcast a user presence update to all clients connected to a server.</span>
<a id="__codelineno-0-1073" name="__codelineno-0-1073"></a>
<a id="__codelineno-0-1074" name="__codelineno-0-1074"></a><span class="sd">    Sends presence information (online status, username, role color) to all</span>
<a id="__codelineno-0-1075" name="__codelineno-0-1075"></a><span class="sd">    WebSocket connections associated with the specified Discord server. Used</span>
<a id="__codelineno-0-1076" name="__codelineno-0-1076"></a><span class="sd">    to notify clients when users come online, go offline, or change status.</span>
<a id="__codelineno-0-1077" name="__codelineno-0-1077"></a>
<a id="__codelineno-0-1078" name="__codelineno-0-1078"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1079" name="__codelineno-0-1079"></a><span class="sd">        server: Discord server ID to broadcast to</span>
<a id="__codelineno-0-1080" name="__codelineno-0-1080"></a><span class="sd">        uid: User ID whose presence is being updated</span>
<a id="__codelineno-0-1081" name="__codelineno-0-1081"></a><span class="sd">        status: User&#39;s current status (&quot;online&quot;, &quot;idle&quot;, &quot;dnd&quot;, &quot;offline&quot;)</span>
<a id="__codelineno-0-1082" name="__codelineno-0-1082"></a><span class="sd">        username: Optional username to include in the update</span>
<a id="__codelineno-0-1083" name="__codelineno-0-1083"></a><span class="sd">        role_color: Optional hex color code for the user&#39;s role (e.g., &quot;#ff6b6b&quot;)</span>
<a id="__codelineno-0-1084" name="__codelineno-0-1084"></a><span class="sd">        delete: If True, indicates the user should be removed from the presence list</span>
<a id="__codelineno-0-1085" name="__codelineno-0-1085"></a>
<a id="__codelineno-0-1086" name="__codelineno-0-1086"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1087" name="__codelineno-0-1087"></a><span class="sd">        None</span>
<a id="__codelineno-0-1088" name="__codelineno-0-1088"></a>
<a id="__codelineno-0-1089" name="__codelineno-0-1089"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-1090" name="__codelineno-0-1090"></a>
<a id="__codelineno-0-1091" name="__codelineno-0-1091"></a><span class="sd">        # Broadcast user coming online</span>
<a id="__codelineno-0-1092" name="__codelineno-0-1092"></a><span class="sd">        await server.broadcast_presence(</span>
<a id="__codelineno-0-1093" name="__codelineno-0-1093"></a><span class="sd">            server=&quot;232769614004748288&quot;,</span>
<a id="__codelineno-0-1094" name="__codelineno-0-1094"></a><span class="sd">            uid=&quot;123456789012345001&quot;,</span>
<a id="__codelineno-0-1095" name="__codelineno-0-1095"></a><span class="sd">            status=&quot;online&quot;,</span>
<a id="__codelineno-0-1096" name="__codelineno-0-1096"></a><span class="sd">            username=&quot;vegeta897&quot;,</span>
<a id="__codelineno-0-1097" name="__codelineno-0-1097"></a><span class="sd">            role_color=&quot;#ff6b6b&quot;</span>
<a id="__codelineno-0-1098" name="__codelineno-0-1098"></a><span class="sd">        )</span>
<a id="__codelineno-0-1099" name="__codelineno-0-1099"></a>
<a id="__codelineno-0-1100" name="__codelineno-0-1100"></a><span class="sd">        # Broadcast user going offline</span>
<a id="__codelineno-0-1101" name="__codelineno-0-1101"></a><span class="sd">        await server.broadcast_presence(</span>
<a id="__codelineno-0-1102" name="__codelineno-0-1102"></a><span class="sd">            server=&quot;232769614004748288&quot;,</span>
<a id="__codelineno-0-1103" name="__codelineno-0-1103"></a><span class="sd">            uid=&quot;123456789012345001&quot;,</span>
<a id="__codelineno-0-1104" name="__codelineno-0-1104"></a><span class="sd">            status=&quot;offline&quot;,</span>
<a id="__codelineno-0-1105" name="__codelineno-0-1105"></a><span class="sd">            delete=True</span>
<a id="__codelineno-0-1106" name="__codelineno-0-1106"></a><span class="sd">        )</span>
<a id="__codelineno-0-1107" name="__codelineno-0-1107"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1108" name="__codelineno-0-1108"></a>    <span class="c1"># Filter connections to only include those connected to the specified server</span>
<a id="__codelineno-0-1109" name="__codelineno-0-1109"></a>    <span class="n">server_connections</span> <span class="o">=</span> <span class="p">[</span><span class="n">ws</span> <span class="k">for</span> <span class="n">ws</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="s1">&#39;discordServer&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ws</span><span class="o">.</span><span class="n">discordServer</span> <span class="o">==</span> <span class="n">server</span><span class="p">]</span>
<a id="__codelineno-0-1110" name="__codelineno-0-1110"></a>
<a id="__codelineno-0-1111" name="__codelineno-0-1111"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">server_connections</span><span class="p">:</span>
<a id="__codelineno-0-1112" name="__codelineno-0-1112"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] No connections to broadcast presence to for server: </span><span class="si">{</span><span class="n">server</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1113" name="__codelineno-0-1113"></a>        <span class="k">return</span>
<a id="__codelineno-0-1114" name="__codelineno-0-1114"></a>
<a id="__codelineno-0-1115" name="__codelineno-0-1115"></a>    <span class="n">presence_data</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1116" name="__codelineno-0-1116"></a>        <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="n">uid</span><span class="p">,</span>
<a id="__codelineno-0-1117" name="__codelineno-0-1117"></a>        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="n">status</span>
<a id="__codelineno-0-1118" name="__codelineno-0-1118"></a>    <span class="p">}</span>
<a id="__codelineno-0-1119" name="__codelineno-0-1119"></a>
<a id="__codelineno-0-1120" name="__codelineno-0-1120"></a>    <span class="k">if</span> <span class="n">username</span><span class="p">:</span>
<a id="__codelineno-0-1121" name="__codelineno-0-1121"></a>        <span class="n">presence_data</span><span class="p">[</span><span class="s2">&quot;username&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">username</span>
<a id="__codelineno-0-1122" name="__codelineno-0-1122"></a>    <span class="k">if</span> <span class="n">role_color</span><span class="p">:</span>
<a id="__codelineno-0-1123" name="__codelineno-0-1123"></a>        <span class="n">presence_data</span><span class="p">[</span><span class="s2">&quot;roleColor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">role_color</span>
<a id="__codelineno-0-1124" name="__codelineno-0-1124"></a>    <span class="k">if</span> <span class="n">delete</span><span class="p">:</span>
<a id="__codelineno-0-1125" name="__codelineno-0-1125"></a>        <span class="n">presence_data</span><span class="p">[</span><span class="s2">&quot;delete&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-1126" name="__codelineno-0-1126"></a>
<a id="__codelineno-0-1127" name="__codelineno-0-1127"></a>    <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1128" name="__codelineno-0-1128"></a>        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;presence&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1129" name="__codelineno-0-1129"></a>        <span class="s2">&quot;server&quot;</span><span class="p">:</span> <span class="n">server</span><span class="p">,</span>
<a id="__codelineno-0-1130" name="__codelineno-0-1130"></a>        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">presence_data</span>
<a id="__codelineno-0-1131" name="__codelineno-0-1131"></a>    <span class="p">}</span>
<a id="__codelineno-0-1132" name="__codelineno-0-1132"></a>
<a id="__codelineno-0-1133" name="__codelineno-0-1133"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[BROADCAST] Sending presence update to </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">server_connections</span><span class="p">)</span><span class="si">}</span><span class="s2"> connections on server </span><span class="si">{</span><span class="n">server</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">uid</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1134" name="__codelineno-0-1134"></a>
<a id="__codelineno-0-1135" name="__codelineno-0-1135"></a>    <span class="c1"># Create a copy to avoid modification during iteration</span>
<a id="__codelineno-0-1136" name="__codelineno-0-1136"></a>    <span class="n">connections_copy</span> <span class="o">=</span> <span class="n">server_connections</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-1137" name="__codelineno-0-1137"></a>
<a id="__codelineno-0-1138" name="__codelineno-0-1138"></a>    <span class="k">for</span> <span class="n">websocket</span> <span class="ow">in</span> <span class="n">connections_copy</span><span class="p">:</span>
<a id="__codelineno-0-1139" name="__codelineno-0-1139"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-1140" name="__codelineno-0-1140"></a>            <span class="k">await</span> <span class="n">websocket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
<a id="__codelineno-0-1141" name="__codelineno-0-1141"></a>        <span class="k">except</span> <span class="n">websockets</span><span class="o">.</span><span class="n">ConnectionClosed</span><span class="p">:</span>
<a id="__codelineno-0-1142" name="__codelineno-0-1142"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[INFO] Removed closed connection during presence broadcast&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1143" name="__codelineno-0-1143"></a>            <span class="c1"># Remove closed connections</span>
<a id="__codelineno-0-1144" name="__codelineno-0-1144"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
<a id="__codelineno-0-1145" name="__codelineno-0-1145"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-1146" name="__codelineno-0-1146"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to send presence update to connection: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1147" name="__codelineno-0-1147"></a>            <span class="c1"># Optionally remove problematic connections</span>
<a id="__codelineno-0-1148" name="__codelineno-0-1148"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.server.WebSocketServer.broadcast_client_id_update" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">broadcast_client_id_update</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">client_id</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#d_back.server.WebSocketServer.broadcast_client_id_update" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Broadcast an OAuth2 client ID update to all clients connected to a server.</p>
<p>Sends the Discord OAuth2 application client ID to all WebSocket connections
associated with the specified Discord server. Used to dynamically update
the client ID for OAuth authentication flows.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>server</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Discord server ID to broadcast to</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>client_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Discord OAuth2 application client ID to send</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code># Update client ID for all connections to a server
await server.broadcast_client_id_update(
    server=&quot;232769614004748288&quot;,
    client_id=&quot;123456789012345678&quot;
)
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1150">1150</a></span>
<span class="normal"><a href="#__codelineno-0-1151">1151</a></span>
<span class="normal"><a href="#__codelineno-0-1152">1152</a></span>
<span class="normal"><a href="#__codelineno-0-1153">1153</a></span>
<span class="normal"><a href="#__codelineno-0-1154">1154</a></span>
<span class="normal"><a href="#__codelineno-0-1155">1155</a></span>
<span class="normal"><a href="#__codelineno-0-1156">1156</a></span>
<span class="normal"><a href="#__codelineno-0-1157">1157</a></span>
<span class="normal"><a href="#__codelineno-0-1158">1158</a></span>
<span class="normal"><a href="#__codelineno-0-1159">1159</a></span>
<span class="normal"><a href="#__codelineno-0-1160">1160</a></span>
<span class="normal"><a href="#__codelineno-0-1161">1161</a></span>
<span class="normal"><a href="#__codelineno-0-1162">1162</a></span>
<span class="normal"><a href="#__codelineno-0-1163">1163</a></span>
<span class="normal"><a href="#__codelineno-0-1164">1164</a></span>
<span class="normal"><a href="#__codelineno-0-1165">1165</a></span>
<span class="normal"><a href="#__codelineno-0-1166">1166</a></span>
<span class="normal"><a href="#__codelineno-0-1167">1167</a></span>
<span class="normal"><a href="#__codelineno-0-1168">1168</a></span>
<span class="normal"><a href="#__codelineno-0-1169">1169</a></span>
<span class="normal"><a href="#__codelineno-0-1170">1170</a></span>
<span class="normal"><a href="#__codelineno-0-1171">1171</a></span>
<span class="normal"><a href="#__codelineno-0-1172">1172</a></span>
<span class="normal"><a href="#__codelineno-0-1173">1173</a></span>
<span class="normal"><a href="#__codelineno-0-1174">1174</a></span>
<span class="normal"><a href="#__codelineno-0-1175">1175</a></span>
<span class="normal"><a href="#__codelineno-0-1176">1176</a></span>
<span class="normal"><a href="#__codelineno-0-1177">1177</a></span>
<span class="normal"><a href="#__codelineno-0-1178">1178</a></span>
<span class="normal"><a href="#__codelineno-0-1179">1179</a></span>
<span class="normal"><a href="#__codelineno-0-1180">1180</a></span>
<span class="normal"><a href="#__codelineno-0-1181">1181</a></span>
<span class="normal"><a href="#__codelineno-0-1182">1182</a></span>
<span class="normal"><a href="#__codelineno-0-1183">1183</a></span>
<span class="normal"><a href="#__codelineno-0-1184">1184</a></span>
<span class="normal"><a href="#__codelineno-0-1185">1185</a></span>
<span class="normal"><a href="#__codelineno-0-1186">1186</a></span>
<span class="normal"><a href="#__codelineno-0-1187">1187</a></span>
<span class="normal"><a href="#__codelineno-0-1188">1188</a></span>
<span class="normal"><a href="#__codelineno-0-1189">1189</a></span>
<span class="normal"><a href="#__codelineno-0-1190">1190</a></span>
<span class="normal"><a href="#__codelineno-0-1191">1191</a></span>
<span class="normal"><a href="#__codelineno-0-1192">1192</a></span>
<span class="normal"><a href="#__codelineno-0-1193">1193</a></span>
<span class="normal"><a href="#__codelineno-0-1194">1194</a></span>
<span class="normal"><a href="#__codelineno-0-1195">1195</a></span>
<span class="normal"><a href="#__codelineno-0-1196">1196</a></span>
<span class="normal"><a href="#__codelineno-0-1197">1197</a></span>
<span class="normal"><a href="#__codelineno-0-1198">1198</a></span>
<span class="normal"><a href="#__codelineno-0-1199">1199</a></span>
<span class="normal"><a href="#__codelineno-0-1200">1200</a></span>
<span class="normal"><a href="#__codelineno-0-1201">1201</a></span>
<span class="normal"><a href="#__codelineno-0-1202">1202</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1150" name="__codelineno-0-1150"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">broadcast_client_id_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">client_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-1151" name="__codelineno-0-1151"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Broadcast an OAuth2 client ID update to all clients connected to a server.</span>
<a id="__codelineno-0-1152" name="__codelineno-0-1152"></a>
<a id="__codelineno-0-1153" name="__codelineno-0-1153"></a><span class="sd">    Sends the Discord OAuth2 application client ID to all WebSocket connections</span>
<a id="__codelineno-0-1154" name="__codelineno-0-1154"></a><span class="sd">    associated with the specified Discord server. Used to dynamically update</span>
<a id="__codelineno-0-1155" name="__codelineno-0-1155"></a><span class="sd">    the client ID for OAuth authentication flows.</span>
<a id="__codelineno-0-1156" name="__codelineno-0-1156"></a>
<a id="__codelineno-0-1157" name="__codelineno-0-1157"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-1158" name="__codelineno-0-1158"></a><span class="sd">        server: Discord server ID to broadcast to</span>
<a id="__codelineno-0-1159" name="__codelineno-0-1159"></a><span class="sd">        client_id: Discord OAuth2 application client ID to send</span>
<a id="__codelineno-0-1160" name="__codelineno-0-1160"></a>
<a id="__codelineno-0-1161" name="__codelineno-0-1161"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1162" name="__codelineno-0-1162"></a><span class="sd">        None</span>
<a id="__codelineno-0-1163" name="__codelineno-0-1163"></a>
<a id="__codelineno-0-1164" name="__codelineno-0-1164"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-1165" name="__codelineno-0-1165"></a>
<a id="__codelineno-0-1166" name="__codelineno-0-1166"></a><span class="sd">        # Update client ID for all connections to a server</span>
<a id="__codelineno-0-1167" name="__codelineno-0-1167"></a><span class="sd">        await server.broadcast_client_id_update(</span>
<a id="__codelineno-0-1168" name="__codelineno-0-1168"></a><span class="sd">            server=&quot;232769614004748288&quot;,</span>
<a id="__codelineno-0-1169" name="__codelineno-0-1169"></a><span class="sd">            client_id=&quot;123456789012345678&quot;</span>
<a id="__codelineno-0-1170" name="__codelineno-0-1170"></a><span class="sd">        )</span>
<a id="__codelineno-0-1171" name="__codelineno-0-1171"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1172" name="__codelineno-0-1172"></a>    <span class="c1"># Filter connections to only include those connected to the specified server</span>
<a id="__codelineno-0-1173" name="__codelineno-0-1173"></a>    <span class="n">server_connections</span> <span class="o">=</span> <span class="p">[</span><span class="n">ws</span> <span class="k">for</span> <span class="n">ws</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">connections</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">ws</span><span class="p">,</span> <span class="s1">&#39;discordServer&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ws</span><span class="o">.</span><span class="n">discordServer</span> <span class="o">==</span> <span class="n">server</span><span class="p">]</span>
<a id="__codelineno-0-1174" name="__codelineno-0-1174"></a>
<a id="__codelineno-0-1175" name="__codelineno-0-1175"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">server_connections</span><span class="p">:</span>
<a id="__codelineno-0-1176" name="__codelineno-0-1176"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[INFO] No connections to broadcast client ID update to for server: </span><span class="si">{</span><span class="n">server</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1177" name="__codelineno-0-1177"></a>        <span class="k">return</span>
<a id="__codelineno-0-1178" name="__codelineno-0-1178"></a>
<a id="__codelineno-0-1179" name="__codelineno-0-1179"></a>    <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-1180" name="__codelineno-0-1180"></a>        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;update-clientid&quot;</span><span class="p">,</span>
<a id="__codelineno-0-1181" name="__codelineno-0-1181"></a>        <span class="s2">&quot;server&quot;</span><span class="p">:</span> <span class="n">server</span><span class="p">,</span>
<a id="__codelineno-0-1182" name="__codelineno-0-1182"></a>        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-1183" name="__codelineno-0-1183"></a>            <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="n">client_id</span>
<a id="__codelineno-0-1184" name="__codelineno-0-1184"></a>        <span class="p">}</span>
<a id="__codelineno-0-1185" name="__codelineno-0-1185"></a>    <span class="p">}</span>
<a id="__codelineno-0-1186" name="__codelineno-0-1186"></a>
<a id="__codelineno-0-1187" name="__codelineno-0-1187"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[BROADCAST] Sending client ID update to </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">server_connections</span><span class="p">)</span><span class="si">}</span><span class="s2"> connections on server </span><span class="si">{</span><span class="n">server</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1188" name="__codelineno-0-1188"></a>
<a id="__codelineno-0-1189" name="__codelineno-0-1189"></a>    <span class="c1"># Create a copy to avoid modification during iteration</span>
<a id="__codelineno-0-1190" name="__codelineno-0-1190"></a>    <span class="n">connections_copy</span> <span class="o">=</span> <span class="n">server_connections</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<a id="__codelineno-0-1191" name="__codelineno-0-1191"></a>
<a id="__codelineno-0-1192" name="__codelineno-0-1192"></a>    <span class="k">for</span> <span class="n">websocket</span> <span class="ow">in</span> <span class="n">connections_copy</span><span class="p">:</span>
<a id="__codelineno-0-1193" name="__codelineno-0-1193"></a>        <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-1194" name="__codelineno-0-1194"></a>            <span class="k">await</span> <span class="n">websocket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
<a id="__codelineno-0-1195" name="__codelineno-0-1195"></a>        <span class="k">except</span> <span class="n">websockets</span><span class="o">.</span><span class="n">ConnectionClosed</span><span class="p">:</span>
<a id="__codelineno-0-1196" name="__codelineno-0-1196"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[INFO] Removed closed connection during client ID broadcast&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1197" name="__codelineno-0-1197"></a>            <span class="c1"># Remove closed connections</span>
<a id="__codelineno-0-1198" name="__codelineno-0-1198"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
<a id="__codelineno-0-1199" name="__codelineno-0-1199"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-1200" name="__codelineno-0-1200"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to send client ID update to connection: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1201" name="__codelineno-0-1201"></a>            <span class="c1"># Optionally remove problematic connections</span>
<a id="__codelineno-0-1202" name="__codelineno-0-1202"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="mockdataprovider">MockDataProvider<a class="headerlink" href="#mockdataprovider" title="Permanent link">&para;</a></h2>
<p>Stellt Mock-Daten und periodische Hintergrundaufgaben für Entwicklung und Tests bereit. Diese Klasse wird automatisch verwendet, wenn keine benutzerdefinierten Callbacks registriert sind.</p>


<div class="doc doc-object doc-class">



<h3 id="d_back.mock.data.MockDataProvider" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">MockDataProvider</span><span class="p">(</span><span class="n">server_instance</span><span class="p">)</span></code>

<a href="#d_back.mock.data.MockDataProvider" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents first">


        <p>Provides mock data and periodic background tasks for WebSocket server testing.</p>
<p>This class generates test data that simulates a Discord-like server environment
with multiple servers, users, and real-time updates. It provides both static
data (user lists, server configurations) and dynamic behaviors (status updates,
message broadcasts) for development and testing purposes.</p>


<details class="the-mock-provider-includes-predefined-data-for-several-test-servers" open>
  <summary>The mock provider includes predefined data for several test servers</summary>
  <ul>
<li>D-World: Main test server with 4 users</li>
<li>Docs (WIP): Documentation server with 1 user</li>
<li>OAuth2 Protected Server: Authentication testing server</li>
<li>My Repos: Repository showcase server with 21 users</li>
</ul>
</details>

<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="d_back.mock.data.MockDataProvider.server">server</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reference to the WebSocketServer instance using this provider.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic usage:</p>
<div class="highlight"><pre><span></span><code>server = WebSocketServer()
mock_provider = MockDataProvider(server)

# Get user data for a specific server
users = mock_provider.get_mock_user_data(&quot;232769614004748288&quot;)
# Returns: {&quot;uid1&quot;: {&quot;uid&quot;: &quot;...&quot;, &quot;username&quot;: &quot;...&quot;, ...}, ...}

# Get all available servers
servers = mock_provider.get_mock_server_data()
# Returns: {&quot;server_id&quot;: {&quot;id&quot;: &quot;...&quot;, &quot;name&quot;: &quot;...&quot;, ...}, ...}
</code></pre></div>


<details class="note" open>
  <summary>Note</summary>
  <p>The mock data provider is automatically instantiated by WebSocketServer.
You typically don't need to create instances manually unless testing
the provider in isolation.</p>
</details>
        <p>Initialize the mock data provider.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>server_instance</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="WebSocketServer(port=3000, host='localhost') (d_back.server.WebSocketServer)" href="../../api-reference/#d_back.server.WebSocketServer">WebSocketServer</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The WebSocketServer instance that owns this provider.
Used for accessing server methods like _random_status().</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="quote">
                    <summary>Source code in <code>d_back/mock/data.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-78">78</a></span>
<span class="normal"><a href="#__codelineno-0-79">79</a></span>
<span class="normal"><a href="#__codelineno-0-80">80</a></span>
<span class="normal"><a href="#__codelineno-0-81">81</a></span>
<span class="normal"><a href="#__codelineno-0-82">82</a></span>
<span class="normal"><a href="#__codelineno-0-83">83</a></span>
<span class="normal"><a href="#__codelineno-0-84">84</a></span>
<span class="normal"><a href="#__codelineno-0-85">85</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_instance</span><span class="p">:</span> <span class="s1">&#39;WebSocketServer&#39;</span><span class="p">):</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the mock data provider.</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">        server_instance: The WebSocketServer instance that owns this provider.</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">            Used for accessing server methods like _random_status().</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">server</span> <span class="o">=</span> <span class="n">server_instance</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="d_back.mock.data.MockDataProvider.get_mock_user_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_mock_user_data</span><span class="p">(</span><span class="n">discord_server_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#d_back.mock.data.MockDataProvider.get_mock_user_data" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Get mock user data for a specific Discord server.</p>
<p>Returns a dictionary of mock users with their profile information including
user ID, username, online status, and role color. Each server has a predefined
set of users for consistent testing.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>discord_server_id</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional Discord server ID to get users for.
Supported IDs:
- "232769614004748288": D-World server (4 users)
- "482241773318701056": Docs (WIP) server (1 user)
- "123456789012345678": OAuth2 Protected server (1 user)
- "987654321098765432": My Repos server (21 users)
If None or unknown, returns empty dict.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, Any]: Dictionary mapping user IDs to user data objects.
Each user object contains:
- uid (str): Unique user identifier
- username (str): Display name
- status (str): Online status ("online", "idle", "dnd", "offline")
- roleColor (str): Hex color code for user's role (e.g., "#ff6b6b")</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>provider = MockDataProvider(server)
users = provider.get_mock_user_data(&quot;232769614004748288&quot;)
# Returns:
# {
#     &quot;123456789012345001&quot;: {
#         &quot;uid&quot;: &quot;123456789012345001&quot;,
#         &quot;username&quot;: &quot;vegeta897&quot;,
#         &quot;status&quot;: &quot;online&quot;,
#         &quot;roleColor&quot;: &quot;#ff6b6b&quot;
#     },
#     ...
# }
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/mock/data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_mock_user_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">discord_server_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get mock user data for a specific Discord server.</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">    Returns a dictionary of mock users with their profile information including</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">    user ID, username, online status, and role color. Each server has a predefined</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">    set of users for consistent testing.</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">        discord_server_id: Optional Discord server ID to get users for.</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">            Supported IDs:</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">            - &quot;232769614004748288&quot;: D-World server (4 users)</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">            - &quot;482241773318701056&quot;: Docs (WIP) server (1 user)</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">            - &quot;123456789012345678&quot;: OAuth2 Protected server (1 user)</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="sd">            - &quot;987654321098765432&quot;: My Repos server (21 users)</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">            If None or unknown, returns empty dict.</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">        Dict[str, Any]: Dictionary mapping user IDs to user data objects.</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">            Each user object contains:</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">            - uid (str): Unique user identifier</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="sd">            - username (str): Display name</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a><span class="sd">            - status (str): Online status (&quot;online&quot;, &quot;idle&quot;, &quot;dnd&quot;, &quot;offline&quot;)</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="sd">            - roleColor (str): Hex color code for user&#39;s role (e.g., &quot;#ff6b6b&quot;)</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="sd">        provider = MockDataProvider(server)</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="sd">        users = provider.get_mock_user_data(&quot;232769614004748288&quot;)</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="sd">        # Returns:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="sd">        # {</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="sd">        #     &quot;123456789012345001&quot;: {</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a><span class="sd">        #         &quot;uid&quot;: &quot;123456789012345001&quot;,</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="sd">        #         &quot;username&quot;: &quot;vegeta897&quot;,</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="sd">        #         &quot;status&quot;: &quot;online&quot;,</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a><span class="sd">        #         &quot;roleColor&quot;: &quot;#ff6b6b&quot;</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="sd">        #     },</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="sd">        #     ...</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="sd">        # }</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="c1"># D-World server users (default)</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>    <span class="k">if</span> <span class="n">discord_server_id</span> <span class="o">==</span> <span class="s2">&quot;232769614004748288&quot;</span><span class="p">:</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>            <span class="s2">&quot;123456789012345001&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789012345001&quot;</span><span class="p">,</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;vegeta897&quot;</span><span class="p">,</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#ff6b6b&quot;</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>            <span class="p">},</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>            <span class="s2">&quot;123456789012345002&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789012345002&quot;</span><span class="p">,</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;Cog-Creators&quot;</span><span class="p">,</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;idle&quot;</span><span class="p">,</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#4ecdc4&quot;</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>            <span class="p">},</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>            <span class="s2">&quot;123456789012345003&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789012345003&quot;</span><span class="p">,</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;d-zone-org&quot;</span><span class="p">,</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;dnd&quot;</span><span class="p">,</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#45b7d1&quot;</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>            <span class="p">},</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>            <span class="s2">&quot;123456789012345004&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789012345004&quot;</span><span class="p">,</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;NNTin&quot;</span><span class="p">,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#96ceb4&quot;</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>            <span class="p">}</span>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>        <span class="p">}</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>    <span class="c1"># Docs (WIP) server users</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>    <span class="k">elif</span> <span class="n">discord_server_id</span> <span class="o">==</span> <span class="s2">&quot;482241773318701056&quot;</span><span class="p">:</span>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>            <span class="s2">&quot;223456789012345001&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;223456789012345001&quot;</span><span class="p">,</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;nntin.xyz/me&quot;</span><span class="p">,</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#feca57&quot;</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>            <span class="p">}</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>        <span class="p">}</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>    <span class="c1"># OAuth2 Protected server users</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>    <span class="k">elif</span> <span class="n">discord_server_id</span> <span class="o">==</span> <span class="s2">&quot;123456789012345678&quot;</span><span class="p">:</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>            <span class="s2">&quot;323456789012345001&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;323456789012345001&quot;</span><span class="p">,</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;NNTin&quot;</span><span class="p">,</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#ff9ff3&quot;</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>            <span class="p">}</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>        <span class="p">}</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>    <span class="c1"># My Repos server users</span>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>    <span class="k">elif</span> <span class="n">discord_server_id</span> <span class="o">==</span> <span class="s2">&quot;987654321098765432&quot;</span><span class="p">:</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a>        <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a>            <span class="s2">&quot;423456789012345001&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345001&quot;</span><span class="p">,</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;me&quot;</span><span class="p">,</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#54a0ff&quot;</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>            <span class="p">},</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>            <span class="s2">&quot;423456789012345002&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345002&quot;</span><span class="p">,</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;nntin.github.io&quot;</span><span class="p">,</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;idle&quot;</span><span class="p">,</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#5f27cd&quot;</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>            <span class="p">},</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>            <span class="s2">&quot;423456789012345003&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345003&quot;</span><span class="p">,</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;d-zone&quot;</span><span class="p">,</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#00d2d3&quot;</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>            <span class="p">},</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>            <span class="s2">&quot;423456789012345004&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345004&quot;</span><span class="p">,</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;d-back&quot;</span><span class="p">,</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;dnd&quot;</span><span class="p">,</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#ff6348&quot;</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>            <span class="p">},</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>            <span class="s2">&quot;423456789012345005&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345005&quot;</span><span class="p">,</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;d-cogs&quot;</span><span class="p">,</span>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#ff4757&quot;</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>            <span class="p">},</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>            <span class="s2">&quot;423456789012345006&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345006&quot;</span><span class="p">,</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;Cubify-Reddit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;offline&quot;</span><span class="p">,</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#3742fa&quot;</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>            <span class="p">},</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>            <span class="s2">&quot;423456789012345007&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345007&quot;</span><span class="p">,</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;Dota-2-Emoticons&quot;</span><span class="p">,</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;idle&quot;</span><span class="p">,</span>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#2ed573&quot;</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>            <span class="p">},</span>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>            <span class="s2">&quot;423456789012345008&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345008&quot;</span><span class="p">,</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;Dota-2-Reddit-Flair-Mosaic&quot;</span><span class="p">,</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#ffa502&quot;</span>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>            <span class="p">},</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>            <span class="s2">&quot;423456789012345009&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345009&quot;</span><span class="p">,</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;Red-kun&quot;</span><span class="p">,</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;dnd&quot;</span><span class="p">,</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#ff3838&quot;</span>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>            <span class="p">},</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>            <span class="s2">&quot;423456789012345010&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345010&quot;</span><span class="p">,</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;Reply-Dota-2-Reddit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#ff9f43&quot;</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>            <span class="p">},</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>            <span class="s2">&quot;423456789012345011&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345011&quot;</span><span class="p">,</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;Reply-LoL-Reddit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;idle&quot;</span><span class="p">,</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#0abde3&quot;</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>            <span class="p">},</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>            <span class="s2">&quot;423456789012345012&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345012&quot;</span><span class="p">,</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;crosku&quot;</span><span class="p">,</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#006ba6&quot;</span>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>            <span class="p">},</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>            <span class="s2">&quot;423456789012345013&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345013&quot;</span><span class="p">,</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;dev-tracker-reddit&quot;</span><span class="p">,</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;offline&quot;</span><span class="p">,</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#8e44ad&quot;</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>            <span class="p">},</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>            <span class="s2">&quot;423456789012345014&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345014&quot;</span><span class="p">,</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;discord-logo&quot;</span><span class="p">,</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#7289da&quot;</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>            <span class="p">},</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>            <span class="s2">&quot;423456789012345015&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345015&quot;</span><span class="p">,</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;discord-twitter-bot&quot;</span><span class="p">,</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;idle&quot;</span><span class="p">,</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#1da1f2&quot;</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>            <span class="p">},</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>            <span class="s2">&quot;423456789012345016&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345016&quot;</span><span class="p">,</span>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;discord-web-bridge&quot;</span><span class="p">,</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;dnd&quot;</span><span class="p">,</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#2c2f33&quot;</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>            <span class="p">},</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>            <span class="s2">&quot;423456789012345017&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345017&quot;</span><span class="p">,</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pasteindex&quot;</span><span class="p">,</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#f39c12&quot;</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>            <span class="p">},</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>            <span class="s2">&quot;423456789012345018&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345018&quot;</span><span class="p">,</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pasteview&quot;</span><span class="p">,</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;idle&quot;</span><span class="p">,</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#e74c3c&quot;</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>            <span class="p">},</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>            <span class="s2">&quot;423456789012345019&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345019&quot;</span><span class="p">,</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;shell-kun&quot;</span><span class="p">,</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#1abc9c&quot;</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>            <span class="p">},</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>            <span class="s2">&quot;423456789012345020&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345020&quot;</span><span class="p">,</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;tracker-reddit-discord&quot;</span><span class="p">,</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;offline&quot;</span><span class="p">,</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#9b59b6&quot;</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>            <span class="p">},</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>            <span class="s2">&quot;423456789012345021&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>                <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;423456789012345021&quot;</span><span class="p">,</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;twitter-backend&quot;</span><span class="p">,</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;online&quot;</span><span class="p">,</span>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>                <span class="s2">&quot;roleColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#1da1f2&quot;</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>            <span class="p">}</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>        <span class="p">}</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>    <span class="c1"># Fallback: return empty if unknown server</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>    <span class="k">return</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.mock.data.MockDataProvider.get_mock_server_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_mock_server_data</span><span class="p">()</span></code>

<a href="#d_back.mock.data.MockDataProvider.get_mock_server_data" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Get mock server data with all available Discord servers.</p>
<p>Returns a dictionary mapping Discord server IDs to server configuration
objects. Used for testing server selection, display, and navigation features.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict[str, Dict[str, Any]]: Dictionary mapping Discord server snowflake IDs
to server configuration objects. Each server object contains:
- id (str): Internal server identifier
- name (str): Server display name
- passworded (bool): Whether OAuth2 authentication is required
- default (bool, optional): Whether this is the default server</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>provider = MockDataProvider(server)
servers = provider.get_mock_server_data()
# Returns:
# {
#     &quot;232769614004748288&quot;: {
#         &quot;id&quot;: &quot;dworld&quot;,
#         &quot;name&quot;: &quot;D-World&quot;,
#         &quot;default&quot;: True,
#         &quot;passworded&quot;: False
#     },
#     &quot;482241773318701056&quot;: {
#         &quot;id&quot;: &quot;docs&quot;,
#         &quot;name&quot;: &quot;Docs (WIP)&quot;,
#         &quot;passworded&quot;: False
#     },
#     ...
# }

for snowflake_id, server_info in servers.items():
    print(f&quot;{server_info[&#39;name&#39;]} (ID: {snowflake_id})&quot;)
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/mock/data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_mock_server_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get mock server data with all available Discord servers.</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a><span class="sd">    Returns a dictionary mapping Discord server IDs to server configuration</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a><span class="sd">    objects. Used for testing server selection, display, and navigation features.</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a><span class="sd">        Dict[str, Dict[str, Any]]: Dictionary mapping Discord server snowflake IDs</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a><span class="sd">            to server configuration objects. Each server object contains:</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a><span class="sd">            - id (str): Internal server identifier</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a><span class="sd">            - name (str): Server display name</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="sd">            - passworded (bool): Whether OAuth2 authentication is required</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a><span class="sd">            - default (bool, optional): Whether this is the default server</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">        provider = MockDataProvider(server)</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a><span class="sd">        servers = provider.get_mock_server_data()</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><span class="sd">        # Returns:</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a><span class="sd">        # {</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a><span class="sd">        #     &quot;232769614004748288&quot;: {</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a><span class="sd">        #         &quot;id&quot;: &quot;dworld&quot;,</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">        #         &quot;name&quot;: &quot;D-World&quot;,</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="sd">        #         &quot;default&quot;: True,</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">        #         &quot;passworded&quot;: False</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a><span class="sd">        #     },</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a><span class="sd">        #     &quot;482241773318701056&quot;: {</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a><span class="sd">        #         &quot;id&quot;: &quot;docs&quot;,</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a><span class="sd">        #         &quot;name&quot;: &quot;Docs (WIP)&quot;,</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a><span class="sd">        #         &quot;passworded&quot;: False</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a><span class="sd">        #     },</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a><span class="sd">        #     ...</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="sd">        # }</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">        for snowflake_id, server_info in servers.items():</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="sd">            print(f&quot;{server_info[&#39;name&#39;]} (ID: {snowflake_id})&quot;)</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>    <span class="k">return</span> <span class="p">{</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a>        <span class="s2">&quot;232769614004748288&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;dworld&quot;</span><span class="p">,</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a>            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;D-World&quot;</span><span class="p">,</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>            <span class="s2">&quot;passworded&quot;</span><span class="p">:</span> <span class="kc">False</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>        <span class="p">},</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>        <span class="s2">&quot;482241773318701056&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;docs&quot;</span><span class="p">,</span> 
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Docs (WIP)&quot;</span><span class="p">,</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>            <span class="s2">&quot;passworded&quot;</span><span class="p">:</span> <span class="kc">False</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>        <span class="p">},</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>        <span class="s2">&quot;123456789012345678&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;oauth&quot;</span><span class="p">,</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;OAuth2 Protected Server&quot;</span><span class="p">,</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>            <span class="s2">&quot;passworded&quot;</span><span class="p">:</span> <span class="kc">True</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>        <span class="p">},</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="s2">&quot;987654321098765432&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;repos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Repos&quot;</span><span class="p">,</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>            <span class="s2">&quot;passworded&quot;</span><span class="p">:</span> <span class="kc">False</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>        <span class="p">}</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.mock.data.MockDataProvider.periodic_status_updates" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">periodic_status_updates</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#d_back.mock.data.MockDataProvider.periodic_status_updates" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Periodically send mock user status changes to a connected client.</p>
<p>Background task that continuously generates random user status updates
and sends them to the specified WebSocket connection. Simulates realistic
user activity by randomly changing user statuses every 4 seconds.</p>
<p>This method runs until the WebSocket connection is closed or the task
is cancelled. It selects random users from the current server and updates
their online status (online, idle, dnd, offline).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>websocket</code>
            </td>
            <td>
                  <code><span title="websockets.server.WebSocketServerProtocol">WebSocketServerProtocol</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>WebSocket connection to send updates to. Must have a
discordServer attribute identifying which server's users to update.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>This is a coroutine that runs indefinitely for the lifetime of the
WebSocket connection. It automatically handles ConnectionClosed
exceptions gracefully.</p>
</details>        <p>Examples:</p>
<div class="highlight"><pre><span></span><code># Called automatically by the server for each connection
task = asyncio.create_task(
    mock_provider.periodic_status_updates(websocket)
)

# Updates will be sent in this format:
# {
#     &quot;type&quot;: &quot;presence&quot;,
#     &quot;server&quot;: &quot;232769614004748288&quot;,
#     &quot;data&quot;: {
#         &quot;uid&quot;: &quot;123456789012345001&quot;,
#         &quot;status&quot;: &quot;online&quot;
#     }
# }
</code></pre></div>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="websockets.ConnectionClosed">ConnectionClosed</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When the WebSocket connection is closed.
This exception is caught and handled gracefully.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>d_back/mock/data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-373" name="__codelineno-0-373"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">periodic_status_updates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">websocket</span><span class="p">:</span> <span class="s1">&#39;WebSocketServerProtocol&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Periodically send mock user status changes to a connected client.</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a><span class="sd">    Background task that continuously generates random user status updates</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a><span class="sd">    and sends them to the specified WebSocket connection. Simulates realistic</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a><span class="sd">    user activity by randomly changing user statuses every 4 seconds.</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a><span class="sd">    This method runs until the WebSocket connection is closed or the task</span>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a><span class="sd">    is cancelled. It selects random users from the current server and updates</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a><span class="sd">    their online status (online, idle, dnd, offline).</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="sd">        websocket: WebSocket connection to send updates to. Must have a</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a><span class="sd">            discordServer attribute identifying which server&#39;s users to update.</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a><span class="sd">    Note:</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a><span class="sd">        This is a coroutine that runs indefinitely for the lifetime of the</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a><span class="sd">        WebSocket connection. It automatically handles ConnectionClosed</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a><span class="sd">        exceptions gracefully.</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a><span class="sd">        # Called automatically by the server for each connection</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a><span class="sd">        task = asyncio.create_task(</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a><span class="sd">            mock_provider.periodic_status_updates(websocket)</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a><span class="sd">        )</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a><span class="sd">        # Updates will be sent in this format:</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a><span class="sd">        # {</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a><span class="sd">        #     &quot;type&quot;: &quot;presence&quot;,</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a><span class="sd">        #     &quot;server&quot;: &quot;232769614004748288&quot;,</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a><span class="sd">        #     &quot;data&quot;: {</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a><span class="sd">        #         &quot;uid&quot;: &quot;123456789012345001&quot;,</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a><span class="sd">        #         &quot;status&quot;: &quot;online&quot;</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a><span class="sd">        #     }</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a><span class="sd">        # }</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a><span class="sd">        websockets.ConnectionClosed: When the WebSocket connection is closed.</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a><span class="sd">            This exception is caught and handled gracefully.</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>    <span class="n">uids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mock_user_data</span><span class="p">(</span><span class="n">websocket</span><span class="o">.</span><span class="n">discordServer</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>            <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">_random_status</span><span class="p">()</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a>            <span class="n">uid</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">uids</span><span class="p">)</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a>            <span class="n">presence_msg</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;presence&quot;</span><span class="p">,</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>                <span class="s2">&quot;server&quot;</span><span class="p">:</span> <span class="n">websocket</span><span class="o">.</span><span class="n">discordServer</span><span class="p">,</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>                <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>                    <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="n">uid</span><span class="p">,</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>                    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="n">status</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>                <span class="p">}</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>            <span class="p">}</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[SEND] presence update for </span><span class="si">{</span><span class="n">uid</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>            <span class="k">await</span> <span class="n">websocket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">presence_msg</span><span class="p">))</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>    <span class="k">except</span> <span class="n">websockets</span><span class="o">.</span><span class="n">ConnectionClosed</span><span class="p">:</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[INFO] Presence update task stopped: connection closed&quot;</span><span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>        <span class="c1"># Remove closed connections</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to send message to connection: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a>        <span class="c1"># Optionally remove problematic connections</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="d_back.mock.data.MockDataProvider.periodic_messages" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">periodic_messages</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#d_back.mock.data.MockDataProvider.periodic_messages" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Periodically send mock chat messages to a connected client.</p>
<p>Background task that continuously generates random chat messages from
mock users and sends them to the specified WebSocket connection. Simulates
realistic chat activity by sending messages every 5 seconds.</p>
<p>This method runs until the WebSocket connection is closed or the task
is cancelled. It selects random users from the current server and random
messages from a predefined list to create chat events.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>websocket</code>
            </td>
            <td>
                  <code><span title="websockets.server.WebSocketServerProtocol">WebSocketServerProtocol</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>WebSocket connection to send messages to. Must have a
discordServer attribute identifying which server's users to use.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>This is a coroutine that runs indefinitely for the lifetime of the
WebSocket connection. It automatically handles ConnectionClosed
exceptions gracefully.</p>
</details>        <p>Examples:</p>
<div class="highlight"><pre><span></span><code># Called automatically by the server for each connection
task = asyncio.create_task(
    mock_provider.periodic_messages(websocket)
)

# Messages will be sent in this format:
# {
#     &quot;type&quot;: &quot;message&quot;,
#     &quot;server&quot;: &quot;232769614004748288&quot;,
#     &quot;data&quot;: {
#         &quot;uid&quot;: &quot;123456789012345001&quot;,
#         &quot;message&quot;: &quot;hello&quot;,
#         &quot;channel&quot;: &quot;527964146659229701&quot;
#     }
# }
</code></pre></div>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="websockets.ConnectionClosed">ConnectionClosed</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When the WebSocket connection is closed.
This exception is caught and handled gracefully.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>d_back/mock/data.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-439" name="__codelineno-0-439"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">periodic_messages</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">websocket</span><span class="p">:</span> <span class="s1">&#39;WebSocketServerProtocol&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Periodically send mock chat messages to a connected client.</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a><span class="sd">    Background task that continuously generates random chat messages from</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a><span class="sd">    mock users and sends them to the specified WebSocket connection. Simulates</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a><span class="sd">    realistic chat activity by sending messages every 5 seconds.</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a><span class="sd">    This method runs until the WebSocket connection is closed or the task</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a><span class="sd">    is cancelled. It selects random users from the current server and random</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a><span class="sd">    messages from a predefined list to create chat events.</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a><span class="sd">        websocket: WebSocket connection to send messages to. Must have a</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a><span class="sd">            discordServer attribute identifying which server&#39;s users to use.</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a><span class="sd">    Note:</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a><span class="sd">        This is a coroutine that runs indefinitely for the lifetime of the</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a><span class="sd">        WebSocket connection. It automatically handles ConnectionClosed</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a><span class="sd">        exceptions gracefully.</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a><span class="sd">        # Called automatically by the server for each connection</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a><span class="sd">        task = asyncio.create_task(</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a><span class="sd">            mock_provider.periodic_messages(websocket)</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a><span class="sd">        )</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a><span class="sd">        # Messages will be sent in this format:</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a><span class="sd">        # {</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a><span class="sd">        #     &quot;type&quot;: &quot;message&quot;,</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a><span class="sd">        #     &quot;server&quot;: &quot;232769614004748288&quot;,</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a><span class="sd">        #     &quot;data&quot;: {</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a><span class="sd">        #         &quot;uid&quot;: &quot;123456789012345001&quot;,</span>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a><span class="sd">        #         &quot;message&quot;: &quot;hello&quot;,</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a><span class="sd">        #         &quot;channel&quot;: &quot;527964146659229701&quot;</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a><span class="sd">        #     }</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="sd">        # }</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a><span class="sd">        websockets.ConnectionClosed: When the WebSocket connection is closed.</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a><span class="sd">            This exception is caught and handled gracefully.</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>    <span class="n">uids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mock_user_data</span><span class="p">(</span><span class="n">websocket</span><span class="o">.</span><span class="n">discordServer</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>    <span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>        <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>        <span class="s2">&quot;how are you?&quot;</span><span class="p">,</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>        <span class="s2">&quot;this is a test message&quot;</span><span class="p">,</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>        <span class="s2">&quot;D-Zone rocks!&quot;</span><span class="p">,</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>        <span class="s2">&quot;what&#39;s up?&quot;</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>    <span class="p">]</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>            <span class="n">uid</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">uids</span><span class="p">)</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>            <span class="n">msg_text</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">messages</span><span class="p">)</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>            <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;message&quot;</span><span class="p">,</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>                <span class="s2">&quot;server&quot;</span><span class="p">:</span> <span class="n">websocket</span><span class="o">.</span><span class="n">discordServer</span><span class="p">,</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>                <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>                    <span class="s2">&quot;uid&quot;</span><span class="p">:</span> <span class="n">uid</span><span class="p">,</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>                    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">msg_text</span><span class="p">,</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>                    <span class="s2">&quot;channel&quot;</span><span class="p">:</span> <span class="s2">&quot;527964146659229701&quot;</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>                <span class="p">}</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>            <span class="p">}</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[SEND] periodic message from </span><span class="si">{</span><span class="n">uid</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">msg_text</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>            <span class="k">await</span> <span class="n">websocket</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>    <span class="k">except</span> <span class="n">websockets</span><span class="o">.</span><span class="n">ConnectionClosed</span><span class="p">:</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[INFO] Periodic message task stopped: connection closed&quot;</span><span class="p">)</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>        <span class="c1"># Remove closed connections</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[ERROR] Failed to send message to connection: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>        <span class="c1"># Optionally remove problematic connections</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">connections</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="n">websocket</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="hilfsfunktionen">Hilfsfunktionen<a class="headerlink" href="#hilfsfunktionen" title="Permanent link">&para;</a></h2>
<p>Hilfsfunktionen für Befehlszeilenschnittstelle und Versionsverwaltung.</p>
<h3 id="parse_args">parse_args<a class="headerlink" href="#parse_args" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-function">



<a id="d_back.server.parse_args"></a>
    <div class="doc doc-contents first">

        <p>Parse command-line arguments for the D-Back WebSocket server.</p>
<p>Provides command-line interface for configuring server parameters including
port, host, static file directory, and version information.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>argparse.Namespace: Parsed arguments containing:
- port (int): Server port number (default: 3000)
- host (str): Server hostname (default: 'localhost')
- static_dir (str): Custom static files directory (default: None)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>$ python -m d_back --port 8080 --host 0.0.0.0
$ python -m d_back --static-dir ./my-static-files
$ python -m d_back --version
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1205">1205</a></span>
<span class="normal"><a href="#__codelineno-0-1206">1206</a></span>
<span class="normal"><a href="#__codelineno-0-1207">1207</a></span>
<span class="normal"><a href="#__codelineno-0-1208">1208</a></span>
<span class="normal"><a href="#__codelineno-0-1209">1209</a></span>
<span class="normal"><a href="#__codelineno-0-1210">1210</a></span>
<span class="normal"><a href="#__codelineno-0-1211">1211</a></span>
<span class="normal"><a href="#__codelineno-0-1212">1212</a></span>
<span class="normal"><a href="#__codelineno-0-1213">1213</a></span>
<span class="normal"><a href="#__codelineno-0-1214">1214</a></span>
<span class="normal"><a href="#__codelineno-0-1215">1215</a></span>
<span class="normal"><a href="#__codelineno-0-1216">1216</a></span>
<span class="normal"><a href="#__codelineno-0-1217">1217</a></span>
<span class="normal"><a href="#__codelineno-0-1218">1218</a></span>
<span class="normal"><a href="#__codelineno-0-1219">1219</a></span>
<span class="normal"><a href="#__codelineno-0-1220">1220</a></span>
<span class="normal"><a href="#__codelineno-0-1221">1221</a></span>
<span class="normal"><a href="#__codelineno-0-1222">1222</a></span>
<span class="normal"><a href="#__codelineno-0-1223">1223</a></span>
<span class="normal"><a href="#__codelineno-0-1224">1224</a></span>
<span class="normal"><a href="#__codelineno-0-1225">1225</a></span>
<span class="normal"><a href="#__codelineno-0-1226">1226</a></span>
<span class="normal"><a href="#__codelineno-0-1227">1227</a></span>
<span class="normal"><a href="#__codelineno-0-1228">1228</a></span>
<span class="normal"><a href="#__codelineno-0-1229">1229</a></span>
<span class="normal"><a href="#__codelineno-0-1230">1230</a></span>
<span class="normal"><a href="#__codelineno-0-1231">1231</a></span>
<span class="normal"><a href="#__codelineno-0-1232">1232</a></span>
<span class="normal"><a href="#__codelineno-0-1233">1233</a></span>
<span class="normal"><a href="#__codelineno-0-1234">1234</a></span>
<span class="normal"><a href="#__codelineno-0-1235">1235</a></span>
<span class="normal"><a href="#__codelineno-0-1236">1236</a></span>
<span class="normal"><a href="#__codelineno-0-1237">1237</a></span>
<span class="normal"><a href="#__codelineno-0-1238">1238</a></span>
<span class="normal"><a href="#__codelineno-0-1239">1239</a></span>
<span class="normal"><a href="#__codelineno-0-1240">1240</a></span>
<span class="normal"><a href="#__codelineno-0-1241">1241</a></span>
<span class="normal"><a href="#__codelineno-0-1242">1242</a></span>
<span class="normal"><a href="#__codelineno-0-1243">1243</a></span>
<span class="normal"><a href="#__codelineno-0-1244">1244</a></span>
<span class="normal"><a href="#__codelineno-0-1245">1245</a></span>
<span class="normal"><a href="#__codelineno-0-1246">1246</a></span>
<span class="normal"><a href="#__codelineno-0-1247">1247</a></span>
<span class="normal"><a href="#__codelineno-0-1248">1248</a></span>
<span class="normal"><a href="#__codelineno-0-1249">1249</a></span>
<span class="normal"><a href="#__codelineno-0-1250">1250</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1205" name="__codelineno-0-1205"></a><span class="k">def</span><span class="w"> </span><span class="nf">parse_args</span><span class="p">():</span>
<a id="__codelineno-0-1206" name="__codelineno-0-1206"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse command-line arguments for the D-Back WebSocket server.</span>
<a id="__codelineno-0-1207" name="__codelineno-0-1207"></a>
<a id="__codelineno-0-1208" name="__codelineno-0-1208"></a><span class="sd">    Provides command-line interface for configuring server parameters including</span>
<a id="__codelineno-0-1209" name="__codelineno-0-1209"></a><span class="sd">    port, host, static file directory, and version information.</span>
<a id="__codelineno-0-1210" name="__codelineno-0-1210"></a>
<a id="__codelineno-0-1211" name="__codelineno-0-1211"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1212" name="__codelineno-0-1212"></a><span class="sd">        argparse.Namespace: Parsed arguments containing:</span>
<a id="__codelineno-0-1213" name="__codelineno-0-1213"></a><span class="sd">            - port (int): Server port number (default: 3000)</span>
<a id="__codelineno-0-1214" name="__codelineno-0-1214"></a><span class="sd">            - host (str): Server hostname (default: &#39;localhost&#39;)</span>
<a id="__codelineno-0-1215" name="__codelineno-0-1215"></a><span class="sd">            - static_dir (str): Custom static files directory (default: None)</span>
<a id="__codelineno-0-1216" name="__codelineno-0-1216"></a>
<a id="__codelineno-0-1217" name="__codelineno-0-1217"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-1218" name="__codelineno-0-1218"></a>
<a id="__codelineno-0-1219" name="__codelineno-0-1219"></a><span class="sd">        $ python -m d_back --port 8080 --host 0.0.0.0</span>
<a id="__codelineno-0-1220" name="__codelineno-0-1220"></a><span class="sd">        $ python -m d_back --static-dir ./my-static-files</span>
<a id="__codelineno-0-1221" name="__codelineno-0-1221"></a><span class="sd">        $ python -m d_back --version</span>
<a id="__codelineno-0-1222" name="__codelineno-0-1222"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1223" name="__codelineno-0-1223"></a>    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
<a id="__codelineno-0-1224" name="__codelineno-0-1224"></a>        <span class="n">description</span><span class="o">=</span><span class="s1">&#39;D-Back WebSocket Server&#39;</span><span class="p">,</span>
<a id="__codelineno-0-1225" name="__codelineno-0-1225"></a>        <span class="n">formatter_class</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentDefaultsHelpFormatter</span>
<a id="__codelineno-0-1226" name="__codelineno-0-1226"></a>    <span class="p">)</span>
<a id="__codelineno-0-1227" name="__codelineno-0-1227"></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<a id="__codelineno-0-1228" name="__codelineno-0-1228"></a>        <span class="s1">&#39;--port&#39;</span><span class="p">,</span> 
<a id="__codelineno-0-1229" name="__codelineno-0-1229"></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> 
<a id="__codelineno-0-1230" name="__codelineno-0-1230"></a>        <span class="n">default</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> 
<a id="__codelineno-0-1231" name="__codelineno-0-1231"></a>        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Port to run the WebSocket server on&#39;</span>
<a id="__codelineno-0-1232" name="__codelineno-0-1232"></a>    <span class="p">)</span>
<a id="__codelineno-0-1233" name="__codelineno-0-1233"></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<a id="__codelineno-0-1234" name="__codelineno-0-1234"></a>        <span class="s1">&#39;--host&#39;</span><span class="p">,</span> 
<a id="__codelineno-0-1235" name="__codelineno-0-1235"></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> 
<a id="__codelineno-0-1236" name="__codelineno-0-1236"></a>        <span class="n">default</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> 
<a id="__codelineno-0-1237" name="__codelineno-0-1237"></a>        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Host to bind the WebSocket server to&#39;</span>
<a id="__codelineno-0-1238" name="__codelineno-0-1238"></a>    <span class="p">)</span>
<a id="__codelineno-0-1239" name="__codelineno-0-1239"></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<a id="__codelineno-0-1240" name="__codelineno-0-1240"></a>        <span class="s1">&#39;--static-dir&#39;</span><span class="p">,</span>
<a id="__codelineno-0-1241" name="__codelineno-0-1241"></a>        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-1242" name="__codelineno-0-1242"></a>        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-1243" name="__codelineno-0-1243"></a>        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Directory to serve static files from (default: built-in dist directory)&#39;</span>
<a id="__codelineno-0-1244" name="__codelineno-0-1244"></a>    <span class="p">)</span>
<a id="__codelineno-0-1245" name="__codelineno-0-1245"></a>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
<a id="__codelineno-0-1246" name="__codelineno-0-1246"></a>        <span class="s1">&#39;--version&#39;</span><span class="p">,</span>
<a id="__codelineno-0-1247" name="__codelineno-0-1247"></a>        <span class="n">action</span><span class="o">=</span><span class="s1">&#39;version&#39;</span><span class="p">,</span>
<a id="__codelineno-0-1248" name="__codelineno-0-1248"></a>        <span class="n">version</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;%(prog)s </span><span class="si">{</span><span class="n">get_version</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span>
<a id="__codelineno-0-1249" name="__codelineno-0-1249"></a>    <span class="p">)</span>
<a id="__codelineno-0-1250" name="__codelineno-0-1250"></a>    <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h3 id="get_version">get_version<a class="headerlink" href="#get_version" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-function">



<a id="d_back.server.get_version"></a>
    <div class="doc doc-contents first">

        <p>Get the current version of the d_back package.</p>
<p>Attempts to retrieve the version from the package's <strong>version</strong> attribute.
Falls back to "unknown" if the version cannot be determined.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The package version string (e.g., "0.0.12") or "unknown".</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; get_version()
&#39;0.0.12&#39;
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1252">1252</a></span>
<span class="normal"><a href="#__codelineno-0-1253">1253</a></span>
<span class="normal"><a href="#__codelineno-0-1254">1254</a></span>
<span class="normal"><a href="#__codelineno-0-1255">1255</a></span>
<span class="normal"><a href="#__codelineno-0-1256">1256</a></span>
<span class="normal"><a href="#__codelineno-0-1257">1257</a></span>
<span class="normal"><a href="#__codelineno-0-1258">1258</a></span>
<span class="normal"><a href="#__codelineno-0-1259">1259</a></span>
<span class="normal"><a href="#__codelineno-0-1260">1260</a></span>
<span class="normal"><a href="#__codelineno-0-1261">1261</a></span>
<span class="normal"><a href="#__codelineno-0-1262">1262</a></span>
<span class="normal"><a href="#__codelineno-0-1263">1263</a></span>
<span class="normal"><a href="#__codelineno-0-1264">1264</a></span>
<span class="normal"><a href="#__codelineno-0-1265">1265</a></span>
<span class="normal"><a href="#__codelineno-0-1266">1266</a></span>
<span class="normal"><a href="#__codelineno-0-1267">1267</a></span>
<span class="normal"><a href="#__codelineno-0-1268">1268</a></span>
<span class="normal"><a href="#__codelineno-0-1269">1269</a></span>
<span class="normal"><a href="#__codelineno-0-1270">1270</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1252" name="__codelineno-0-1252"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_version</span><span class="p">():</span>
<a id="__codelineno-0-1253" name="__codelineno-0-1253"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the current version of the d_back package.</span>
<a id="__codelineno-0-1254" name="__codelineno-0-1254"></a>
<a id="__codelineno-0-1255" name="__codelineno-0-1255"></a><span class="sd">    Attempts to retrieve the version from the package&#39;s __version__ attribute.</span>
<a id="__codelineno-0-1256" name="__codelineno-0-1256"></a><span class="sd">    Falls back to &quot;unknown&quot; if the version cannot be determined.</span>
<a id="__codelineno-0-1257" name="__codelineno-0-1257"></a>
<a id="__codelineno-0-1258" name="__codelineno-0-1258"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1259" name="__codelineno-0-1259"></a><span class="sd">        str: The package version string (e.g., &quot;0.0.12&quot;) or &quot;unknown&quot;.</span>
<a id="__codelineno-0-1260" name="__codelineno-0-1260"></a>
<a id="__codelineno-0-1261" name="__codelineno-0-1261"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-1262" name="__codelineno-0-1262"></a>
<a id="__codelineno-0-1263" name="__codelineno-0-1263"></a><span class="sd">        &gt;&gt;&gt; get_version()</span>
<a id="__codelineno-0-1264" name="__codelineno-0-1264"></a><span class="sd">        &#39;0.0.12&#39;</span>
<a id="__codelineno-0-1265" name="__codelineno-0-1265"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1266" name="__codelineno-0-1266"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-1267" name="__codelineno-0-1267"></a>        <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">__version__</span>
<a id="__codelineno-0-1268" name="__codelineno-0-1268"></a>        <span class="k">return</span> <span class="n">__version__</span>
<a id="__codelineno-0-1269" name="__codelineno-0-1269"></a>    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
<a id="__codelineno-0-1270" name="__codelineno-0-1270"></a>        <span class="k">return</span> <span class="s2">&quot;unknown&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h3 id="main">main<a class="headerlink" href="#main" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-function">



<a id="d_back.server.main"></a>
    <div class="doc doc-contents first">

        <p>Main async entry point for the D-Back WebSocket server.</p>
<p>Parses command-line arguments, initializes the WebSocket server with the
specified configuration, and starts the server in run-forever mode.</p>


<details class="this-function-handles" open>
  <summary>This function handles</summary>
  <ul>
<li>Argument parsing for port, host, and static directory</li>
<li>Server initialization and configuration</li>
<li>Static directory validation</li>
<li>Server startup and lifecycle management</li>
</ul>
</details>

    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Exception">Exception</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If server fails to start or encounters fatal errors.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="KeyboardInterrupt">KeyboardInterrupt</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Propagated from server interruption.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code># Run with default settings
await main()
</code></pre></div>


<details class="note" open>
  <summary>Note</summary>
  <p>This is the primary entry point when running d_back as a module.
Use main_sync() for synchronous execution from <strong>main</strong>.</p>
</details>

            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1272">1272</a></span>
<span class="normal"><a href="#__codelineno-0-1273">1273</a></span>
<span class="normal"><a href="#__codelineno-0-1274">1274</a></span>
<span class="normal"><a href="#__codelineno-0-1275">1275</a></span>
<span class="normal"><a href="#__codelineno-0-1276">1276</a></span>
<span class="normal"><a href="#__codelineno-0-1277">1277</a></span>
<span class="normal"><a href="#__codelineno-0-1278">1278</a></span>
<span class="normal"><a href="#__codelineno-0-1279">1279</a></span>
<span class="normal"><a href="#__codelineno-0-1280">1280</a></span>
<span class="normal"><a href="#__codelineno-0-1281">1281</a></span>
<span class="normal"><a href="#__codelineno-0-1282">1282</a></span>
<span class="normal"><a href="#__codelineno-0-1283">1283</a></span>
<span class="normal"><a href="#__codelineno-0-1284">1284</a></span>
<span class="normal"><a href="#__codelineno-0-1285">1285</a></span>
<span class="normal"><a href="#__codelineno-0-1286">1286</a></span>
<span class="normal"><a href="#__codelineno-0-1287">1287</a></span>
<span class="normal"><a href="#__codelineno-0-1288">1288</a></span>
<span class="normal"><a href="#__codelineno-0-1289">1289</a></span>
<span class="normal"><a href="#__codelineno-0-1290">1290</a></span>
<span class="normal"><a href="#__codelineno-0-1291">1291</a></span>
<span class="normal"><a href="#__codelineno-0-1292">1292</a></span>
<span class="normal"><a href="#__codelineno-0-1293">1293</a></span>
<span class="normal"><a href="#__codelineno-0-1294">1294</a></span>
<span class="normal"><a href="#__codelineno-0-1295">1295</a></span>
<span class="normal"><a href="#__codelineno-0-1296">1296</a></span>
<span class="normal"><a href="#__codelineno-0-1297">1297</a></span>
<span class="normal"><a href="#__codelineno-0-1298">1298</a></span>
<span class="normal"><a href="#__codelineno-0-1299">1299</a></span>
<span class="normal"><a href="#__codelineno-0-1300">1300</a></span>
<span class="normal"><a href="#__codelineno-0-1301">1301</a></span>
<span class="normal"><a href="#__codelineno-0-1302">1302</a></span>
<span class="normal"><a href="#__codelineno-0-1303">1303</a></span>
<span class="normal"><a href="#__codelineno-0-1304">1304</a></span>
<span class="normal"><a href="#__codelineno-0-1305">1305</a></span>
<span class="normal"><a href="#__codelineno-0-1306">1306</a></span>
<span class="normal"><a href="#__codelineno-0-1307">1307</a></span>
<span class="normal"><a href="#__codelineno-0-1308">1308</a></span>
<span class="normal"><a href="#__codelineno-0-1309">1309</a></span>
<span class="normal"><a href="#__codelineno-0-1310">1310</a></span>
<span class="normal"><a href="#__codelineno-0-1311">1311</a></span>
<span class="normal"><a href="#__codelineno-0-1312">1312</a></span>
<span class="normal"><a href="#__codelineno-0-1313">1313</a></span>
<span class="normal"><a href="#__codelineno-0-1314">1314</a></span>
<span class="normal"><a href="#__codelineno-0-1315">1315</a></span>
<span class="normal"><a href="#__codelineno-0-1316">1316</a></span>
<span class="normal"><a href="#__codelineno-0-1317">1317</a></span>
<span class="normal"><a href="#__codelineno-0-1318">1318</a></span>
<span class="normal"><a href="#__codelineno-0-1319">1319</a></span>
<span class="normal"><a href="#__codelineno-0-1320">1320</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1272" name="__codelineno-0-1272"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-0-1273" name="__codelineno-0-1273"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Main async entry point for the D-Back WebSocket server.</span>
<a id="__codelineno-0-1274" name="__codelineno-0-1274"></a>
<a id="__codelineno-0-1275" name="__codelineno-0-1275"></a><span class="sd">    Parses command-line arguments, initializes the WebSocket server with the</span>
<a id="__codelineno-0-1276" name="__codelineno-0-1276"></a><span class="sd">    specified configuration, and starts the server in run-forever mode.</span>
<a id="__codelineno-0-1277" name="__codelineno-0-1277"></a>
<a id="__codelineno-0-1278" name="__codelineno-0-1278"></a><span class="sd">    This function handles:</span>
<a id="__codelineno-0-1279" name="__codelineno-0-1279"></a><span class="sd">        - Argument parsing for port, host, and static directory</span>
<a id="__codelineno-0-1280" name="__codelineno-0-1280"></a><span class="sd">        - Server initialization and configuration</span>
<a id="__codelineno-0-1281" name="__codelineno-0-1281"></a><span class="sd">        - Static directory validation</span>
<a id="__codelineno-0-1282" name="__codelineno-0-1282"></a><span class="sd">        - Server startup and lifecycle management</span>
<a id="__codelineno-0-1283" name="__codelineno-0-1283"></a>
<a id="__codelineno-0-1284" name="__codelineno-0-1284"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1285" name="__codelineno-0-1285"></a><span class="sd">        None</span>
<a id="__codelineno-0-1286" name="__codelineno-0-1286"></a>
<a id="__codelineno-0-1287" name="__codelineno-0-1287"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-1288" name="__codelineno-0-1288"></a><span class="sd">        Exception: If server fails to start or encounters fatal errors.</span>
<a id="__codelineno-0-1289" name="__codelineno-0-1289"></a><span class="sd">        KeyboardInterrupt: Propagated from server interruption.</span>
<a id="__codelineno-0-1290" name="__codelineno-0-1290"></a>
<a id="__codelineno-0-1291" name="__codelineno-0-1291"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-1292" name="__codelineno-0-1292"></a>
<a id="__codelineno-0-1293" name="__codelineno-0-1293"></a><span class="sd">        # Run with default settings</span>
<a id="__codelineno-0-1294" name="__codelineno-0-1294"></a><span class="sd">        await main()</span>
<a id="__codelineno-0-1295" name="__codelineno-0-1295"></a>
<a id="__codelineno-0-1296" name="__codelineno-0-1296"></a><span class="sd">    Note:</span>
<a id="__codelineno-0-1297" name="__codelineno-0-1297"></a><span class="sd">        This is the primary entry point when running d_back as a module.</span>
<a id="__codelineno-0-1298" name="__codelineno-0-1298"></a><span class="sd">        Use main_sync() for synchronous execution from __main__.</span>
<a id="__codelineno-0-1299" name="__codelineno-0-1299"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1300" name="__codelineno-0-1300"></a>    <span class="n">args</span> <span class="o">=</span> <span class="n">parse_args</span><span class="p">()</span>
<a id="__codelineno-0-1301" name="__codelineno-0-1301"></a>
<a id="__codelineno-0-1302" name="__codelineno-0-1302"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting D-Back WebSocket Server v</span><span class="si">{</span><span class="n">get_version</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1303" name="__codelineno-0-1303"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Host: </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1304" name="__codelineno-0-1304"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Port: </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1305" name="__codelineno-0-1305"></a>
<a id="__codelineno-0-1306" name="__codelineno-0-1306"></a>    <span class="n">server</span> <span class="o">=</span> <span class="n">WebSocketServer</span><span class="p">(</span><span class="n">port</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">host</span><span class="p">)</span>
<a id="__codelineno-0-1307" name="__codelineno-0-1307"></a>
<a id="__codelineno-0-1308" name="__codelineno-0-1308"></a>    <span class="c1"># Set custom static directory if provided</span>
<a id="__codelineno-0-1309" name="__codelineno-0-1309"></a>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">static_dir</span><span class="p">:</span>
<a id="__codelineno-0-1310" name="__codelineno-0-1310"></a>        <span class="n">static_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">static_dir</span><span class="p">)</span>
<a id="__codelineno-0-1311" name="__codelineno-0-1311"></a>        <span class="k">if</span> <span class="n">static_path</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">static_path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
<a id="__codelineno-0-1312" name="__codelineno-0-1312"></a>            <span class="n">server</span><span class="o">.</span><span class="n">static_dir</span> <span class="o">=</span> <span class="n">static_path</span>
<a id="__codelineno-0-1313" name="__codelineno-0-1313"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Static directory: </span><span class="si">{</span><span class="n">static_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1314" name="__codelineno-0-1314"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1315" name="__codelineno-0-1315"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Static directory &#39;</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">static_dir</span><span class="si">}</span><span class="s2">&#39; does not exist or is not a directory&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1316" name="__codelineno-0-1316"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using default static directory: </span><span class="si">{</span><span class="n">server</span><span class="o">.</span><span class="n">static_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1317" name="__codelineno-0-1317"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-1318" name="__codelineno-0-1318"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Static directory: </span><span class="si">{</span><span class="n">server</span><span class="o">.</span><span class="n">static_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-1319" name="__codelineno-0-1319"></a>
<a id="__codelineno-0-1320" name="__codelineno-0-1320"></a>    <span class="k">await</span> <span class="n">server</span><span class="o">.</span><span class="n">run_forever</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h3 id="main_sync">main_sync<a class="headerlink" href="#main_sync" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-function">



<a id="d_back.server.main_sync"></a>
    <div class="doc doc-contents first">

        <p>Synchronous entry point wrapper for the D-Back WebSocket server.</p>
<p>Wraps the async main() function in asyncio.run() to provide a synchronous
entry point. Handles KeyboardInterrupt gracefully for clean server shutdown.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Examples:</p>
<div class="highlight"><pre><span></span><code>if __name__ == &quot;__main__&quot;:
    main_sync()
</code></pre></div>


<details class="note" open>
  <summary>Note</summary>
  <p>This is the entry point used when running as a script or via setuptools
console_scripts. It ensures proper async context management.</p>
</details>

            <details class="quote">
              <summary>Source code in <code>d_back/server.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1322">1322</a></span>
<span class="normal"><a href="#__codelineno-0-1323">1323</a></span>
<span class="normal"><a href="#__codelineno-0-1324">1324</a></span>
<span class="normal"><a href="#__codelineno-0-1325">1325</a></span>
<span class="normal"><a href="#__codelineno-0-1326">1326</a></span>
<span class="normal"><a href="#__codelineno-0-1327">1327</a></span>
<span class="normal"><a href="#__codelineno-0-1328">1328</a></span>
<span class="normal"><a href="#__codelineno-0-1329">1329</a></span>
<span class="normal"><a href="#__codelineno-0-1330">1330</a></span>
<span class="normal"><a href="#__codelineno-0-1331">1331</a></span>
<span class="normal"><a href="#__codelineno-0-1332">1332</a></span>
<span class="normal"><a href="#__codelineno-0-1333">1333</a></span>
<span class="normal"><a href="#__codelineno-0-1334">1334</a></span>
<span class="normal"><a href="#__codelineno-0-1335">1335</a></span>
<span class="normal"><a href="#__codelineno-0-1336">1336</a></span>
<span class="normal"><a href="#__codelineno-0-1337">1337</a></span>
<span class="normal"><a href="#__codelineno-0-1338">1338</a></span>
<span class="normal"><a href="#__codelineno-0-1339">1339</a></span>
<span class="normal"><a href="#__codelineno-0-1340">1340</a></span>
<span class="normal"><a href="#__codelineno-0-1341">1341</a></span>
<span class="normal"><a href="#__codelineno-0-1342">1342</a></span>
<span class="normal"><a href="#__codelineno-0-1343">1343</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1322" name="__codelineno-0-1322"></a><span class="k">def</span><span class="w"> </span><span class="nf">main_sync</span><span class="p">():</span>
<a id="__codelineno-0-1323" name="__codelineno-0-1323"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Synchronous entry point wrapper for the D-Back WebSocket server.</span>
<a id="__codelineno-0-1324" name="__codelineno-0-1324"></a>
<a id="__codelineno-0-1325" name="__codelineno-0-1325"></a><span class="sd">    Wraps the async main() function in asyncio.run() to provide a synchronous</span>
<a id="__codelineno-0-1326" name="__codelineno-0-1326"></a><span class="sd">    entry point. Handles KeyboardInterrupt gracefully for clean server shutdown.</span>
<a id="__codelineno-0-1327" name="__codelineno-0-1327"></a>
<a id="__codelineno-0-1328" name="__codelineno-0-1328"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-1329" name="__codelineno-0-1329"></a><span class="sd">        None</span>
<a id="__codelineno-0-1330" name="__codelineno-0-1330"></a>
<a id="__codelineno-0-1331" name="__codelineno-0-1331"></a><span class="sd">    Examples:</span>
<a id="__codelineno-0-1332" name="__codelineno-0-1332"></a>
<a id="__codelineno-0-1333" name="__codelineno-0-1333"></a><span class="sd">        if __name__ == &quot;__main__&quot;:</span>
<a id="__codelineno-0-1334" name="__codelineno-0-1334"></a><span class="sd">            main_sync()</span>
<a id="__codelineno-0-1335" name="__codelineno-0-1335"></a>
<a id="__codelineno-0-1336" name="__codelineno-0-1336"></a><span class="sd">    Note:</span>
<a id="__codelineno-0-1337" name="__codelineno-0-1337"></a><span class="sd">        This is the entry point used when running as a script or via setuptools</span>
<a id="__codelineno-0-1338" name="__codelineno-0-1338"></a><span class="sd">        console_scripts. It ensures proper async context management.</span>
<a id="__codelineno-0-1339" name="__codelineno-0-1339"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-1340" name="__codelineno-0-1340"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-0-1341" name="__codelineno-0-1341"></a>        <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
<a id="__codelineno-0-1342" name="__codelineno-0-1342"></a>    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<a id="__codelineno-0-1343" name="__codelineno-0-1343"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">[INFO] Server stopped by user&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h2 id="verwendungsbeispiele">Verwendungsbeispiele<a class="headerlink" href="#verwendungsbeispiele" title="Permanent link">&para;</a></h2>
<p>Für praktische Beispiele zur Verwendung dieser APIs siehe:</p>
<ul>
<li><strong><a href="../getting-started/">Erste Schritte</a></strong>: Grundlegende Verwendung und erste Verbindung</li>
<li><strong><a href="../user-guide/configuration/">Konfiguration</a></strong>: Server-Einrichtung und -Konfiguration</li>
<li><strong><a href="../user-guide/callbacks/">Callbacks &amp; Anpassung</a></strong>: Callback-Verwendungsbeispiele</li>
<li><strong><a href="../user-guide/custom-data-providers/">Benutzerdefinierte Datenanbieter</a></strong>: Datenanbieter-Implementierungsmuster</li>
</ul>
<h2 id="typhinweise">Typhinweise<a class="headerlink" href="#typhinweise" title="Permanent link">&para;</a></h2>
<p>Alle Methoden enthalten umfassende Typhinweise für Parameter und Rückgabewerte. Beim Arbeiten mit Callbacks importieren Sie die erforderlichen Typen:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Awaitable</span>
</code></pre></div>
<p>Für weitere Informationen über Python-Typhinweise siehe die <a href="https://docs.python.org/3/library/typing.html">offizielle typing-Dokumentation</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Zurück zum Seitenanfang
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Tin Nguyen
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/NNTin/d-back" target="_blank" rel="noopener" title="d-back on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://pypi.org/project/d-back/" target="_blank" rel="noopener" title="d-back on PyPI" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "In Zwischenablage kopiert", "clipboard.copy": "In Zwischenablage kopieren", "search.result.more.one": "1 weiteres Suchergebnis auf dieser Seite", "search.result.more.other": "# weitere Suchergebnisse auf dieser Seite", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse", "search.result.placeholder": "Suchbegriff eingeben", "search.result.term.missing": "Es fehlt", "select.version": "Version ausw\u00e4hlen"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>